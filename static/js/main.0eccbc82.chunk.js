(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,n){e.exports=n(328)},143:function(e,t,n){},236:function(e,t,n){e.exports=n.p+"static/media/background_pleb.16057969.jpg"},237:function(e,t,n){e.exports=n.p+"static/media/logo.32d04031.png"},303:function(e,t,n){},307:function(e,t,n){},314:function(e,t,n){e.exports=n.p+"static/media/background_gm.c0a92ebb.jpg"},315:function(e,t,n){e.exports=n.p+"static/media/logo_gm.29b888b5.png"},326:function(e,t,n){},328:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(29),i=n.n(o),s=(n(143),n(17)),c=n(18),l=n(20),u=n(19),p=n(21),m=n(331),d=n(332),h=n(30),g=n(82),f=n.n(g),v=n(32),b=n(26),y=n(23),E=n(11),O=n.n(E),w=n(25),k=n.n(w),j=n(7),C=n.n(j),S=n(24),x=n.n(S),A=n(43),T=n.n(A);function N(e){return{type:"SHOW_SNACKBAR_MESSAGE",payload:e}}function I(e){return{type:"SHOW_SNACKBAR_ERROR",payload:e}}var q=n(22),F=n.n(q),z=n(28);function L(e){return{type:"UPDATE_USER",payload:e}}function R(e){return{type:"RECIVED_ALL_USER",payload:e}}function B(e){return{type:"UPDATE_POINTS",payload:e}}var _=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(n,a){var r,o,i,s;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.roomId,o=e.failMsg,t.next=3,fetch("https://stark-ocean-61611.herokuapp.com/api/activeUsers/".concat(r),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return i=t.sent,t.next=6,i.json();case 6:(s=t.sent).success?n(R(s.content)):o&&n(I("N\xe5got gick fel vid h\xe4mtning av anv\xe4ndare."));case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},P=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(n,a){var r,o,i;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.uid,o=e.points,t.next=3,fetch("https://stark-ocean-61611.herokuapp.com/api/activeUsers/edit/".concat(r),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({points:o})});case 3:return i=t.sent,t.next=6,i.json();case 6:t.sent.success?n(B({points:o})):n(I("Fel anv\xe4ndarnamn eller l\xf6senord."));case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()};function W(e){return{type:"AUTH_RECEIVED",payload:e}}var D=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(n,a){var r,o,i,s,c,l,u;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.history,o=e.user,i=o.name,s=o.password,t.next=4,fetch("https://stark-ocean-61611.herokuapp.com/api/authenticate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:i,password:s})});case 4:return c=t.sent,t.next=7,c.json();case 7:(l=t.sent).success?(u={name:i,token:l.content.token},n(W(u)),r.push("/admin/home")):n(I("Fel anv\xe4ndarnamn eller l\xf6senord."));case 9:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},Q=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(n,a){var r,o,i,s,c,l;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.history,o=e.username,i=e.roomId,t.next=3,fetch("https://stark-ocean-61611.herokuapp.com/api/activeUsers/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:o,points:0,roomId:i})});case 3:return s=t.sent,t.next=6,s.json();case 6:(c=t.sent).success?(l={name:o,token:c.content.token,uid:c.content._id,points:0},n(L(l)),r.push("/room/".concat(i))):n(I("Fel anv\xe4ndarnamn eller l\xf6senord."));case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},U=n(117),H=n.n(U),J=n(42),M=n.n(J),V=n(118),G=n.n(V);var K=Object(h.withStyles)({root:{flexGrow:1,zIndex:100},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},appHeight:{minHeight:50},roomStyleText:{fontWeight:500,verticalAlign:-12,marginLeft:10},avatar:{float:"left"}})(function(e){var t=e.classes,n=e.history,o=e.roomId,i=e.isAdmin,s=e.adminPanel,c=e.auth,l=e.createQuiz,u="primary";return i&&(u="secondary"),r.a.createElement("div",{className:t.root},r.a.createElement(H.a,{position:"static",color:u},r.a.createElement(G.a,{className:t.appHeight},r.a.createElement("div",{className:t.grow,color:"inherit"},o&&r.a.createElement("p",{className:t.roomStyleText},"ROOMID #".concat(o)),s&&c&&r.a.createElement(a.Fragment,null,r.a.createElement(M.a,{alt:c.name,src:"https://upload.wikimedia.org/wikipedia/commons/3/38/Wikipedia_User-ICON_byNightsight.png",width:"50px",className:t.avatar}),r.a.createElement("span",{className:t.roomStyleText},"GM ",c.name.toUpperCase()))),!o&&i&&r.a.createElement(O.a,{color:"inherit",onClick:function(){n.push("/")}},"Student"),!o&&!i&&!s&&!l&&r.a.createElement(O.a,{color:"inherit",onClick:function(){n.push("/admin")}},"Admin"),o&&r.a.createElement(O.a,{color:"inherit",onClick:function(){n.push("/logout")}},"LOGGA UT"),l&&r.a.createElement(O.a,{color:"inherit",onClick:function(){n.goBack()}},"Go back"),s&&c&&r.a.createElement("div",null,r.a.createElement(O.a,{color:"inherit",onClick:function(){n.push("/logout")}},"Logga ut")))))}),X=n(119),Y=n.n(X),$=n(83),Z={error:{background:n.n($).a[500]},success:{background:"#FB8C00",color:"#FAFAFA"}},ee=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(){n.props.dispatch({type:"CLOSE_FEEDBACK"})},n.renderSnackbar=function(){return r.a.createElement(Y.a,{open:n.props.snackbarOpen,message:n.props.message,autoHideDuration:3e3,onClose:n.handleClose,ContentProps:{classes:{root:n.props.error?n.props.classes.error:n.props.classes.success}}})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,this.renderSnackbar())}}]),t}(r.a.Component),te=Object(b.compose)(Object(h.withStyles)(Z),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}}))(ee),ne=n(236),ae=n(237),re=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){n.setState(Object(v.a)({},e,t.target.value))}},n.validation=function(){var e=n.state,t=e.username,a=e.roomId,r=n.props.dispatch;t&&a?n.login(t,a):r(I("Anv\xe4ndarnamn eller ID \xe4r felaktigt."))},n.login=function(e,t){var a=n.props,r=a.history;(0,a.dispatch)(Q({history:r,username:e,roomId:t}))},n.state={loading:!1,username:"",roomId:""},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,n=e.username,a=this.props,o=a.classes,i=a.history;return r.a.createElement("div",null,r.a.createElement(K,{history:i,username:n}),t&&r.a.createElement(T.a,{thickness:2,color:"primary"}),r.a.createElement("div",{className:o.main},r.a.createElement("img",{src:ae,alt:"Begame",className:o.logo,width:"250px"}),r.a.createElement(k.a,{className:o.container},r.a.createElement(C.a,{variant:"h6",className:o.welcome},"V\xe4lkommen!"),r.a.createElement(C.a,{variant:"subtitle1",className:o.login},"Logga in med anv\xe4ndarnamn och #ID"),r.a.createElement("div",{className:o.margin},r.a.createElement(x.a,{type:"text",onChange:this.handleChange("username"),id:"input-with-icon-grid",label:"Anv\xe4ndarnamn",margin:"dense",variant:"outlined",fullWidth:!0,autoFocus:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(x.a,{type:"text",onChange:this.handleChange("roomId"),id:"input-with-icon-grid2",label:"#ID",margin:"dense",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(O.a,{style:{marginBottom:20,marginTop:10},variant:"contained",color:"primary",fullWidth:!0,onClick:this.validation,disabled:t,size:"large"},"Logga in")))),r.a.createElement(C.a,{className:o.copyright},"\xa9 Copyright 2018 | All Rights Reserved | Begame"),r.a.createElement(te,null))}}]),t}(a.Component),oe=Object(b.compose)(Object(h.withStyles)(function(){return{main:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 50px)",alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .9), rgba(0, 0, 0, .9)), url(".concat(ne,")"),backgroundColor:"#fafafa",backgroundSize:"cover"},container:{padding:40,marginTop:-70,paddingTop:30},margin:{width:350},welcome:{textAlign:"center"},login:{textAlign:"center",marginBottom:20},copyright:{textAlign:"center",fontSize:11,marginTop:-70,color:"#fff"},logo:{marginTop:-100,marginBottom:30,zIndex:1}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}}))(re),ie=n(10),se=n(44),ce=n.n(se),le=n(45),ue=n.n(le),pe=n(46),me=n.n(pe),de=n(120),he=n.n(de),ge=n(121),fe=n.n(ge);function ve(e){return{type:"ROOM_RECIVED",payload:e}}var be=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(n,a){var r,o,i,s,c;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.history,o=e.room,(i=localStorage.getItem("token"))&&"undefined"!==i){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,fetch("https://stark-ocean-61611.herokuapp.com/api/rooms/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:i},body:JSON.stringify(o)});case 6:return s=t.sent,t.next=9,s.json();case 9:(c=t.sent).success&&(n(ve(c.content)),r.push("/project/"+c.content.roomId));case 11:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},ye=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(n,a){var r,o;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://stark-ocean-61611.herokuapp.com/api/rooms/".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return r=t.sent,t.next=5,r.json();case 5:(o=t.sent).success&&n(ve(o.content[0]));case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},Ee=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(n,a){var r,o,i,s;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("token"),o=e.roomIdInDb,r&&"undefined"!==r){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,fetch("https://stark-ocean-61611.herokuapp.com/api/rooms/edit/".concat(o),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r},body:JSON.stringify(e.update)});case 6:return i=t.sent,t.next=9,i.json();case 9:(s=t.sent).success&&n(ve(s.content));case 11:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},Oe=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).selectedAnswer=function(e,t,a){var r=n.props.match.params.id,o=n.props.dispatch,i=e===t,s=JSON.parse(localStorage.getItem("student"));if(s.lastQuestion===a)return o(N("Du har redan svarat p\xe5 fr\xe5gan \ud83e\udd14")),null;s.lastQuestion=a,localStorage.setItem("student",JSON.stringify(s)),i?(o(N("R\xe4tt svar! \ud83d\ude0e")),o(ye(r)).then(function(){if(n.props.room.openForAnswer){var e=n.props.user,t=e.points,a=e.uid;o(P({uid:a,points:t+=10})).then(function(){n.setState({rightAnswer:!0,questionClosed:!0})})}else o(N("R\xe4tt svar! \ud83d\ude0e"))})):(n.setState({rightAnswer:!1,questionClosed:!0}),o(N("Fel! \ud83d\ude2b")))},n.createAnswerButtons=function(e,t,o){var i=n.props.classes,s=["a","b","c","d","e","f","g","h"];return Object.values(e).map(function(e,c){return r.a.createElement(a.Fragment,{key:c},r.a.createElement(ce.a,{className:i.card,onClick:function(){return n.selectedAnswer(s[c],t,o)}},r.a.createElement(ue.a,{className:i.cardAction},r.a.createElement(me.a,null,r.a.createElement(M.a,{className:i.orangeAvatar},s[c].toUpperCase()),r.a.createElement(C.a,{component:"p"},e)))))})},n.renderQuestion=function(){var e=n.props.room,t=((e||!1).quiz||!1).questions;if(!t)return r.a.createElement("div",null,r.a.createElement(C.a,{variant:"h3",gutterBottom:!0},"Ej startad \xe4nnu"));var o=e&&e.currentQuestion;if(0===o)return r.a.createElement("div",null,r.a.createElement(C.a,{variant:"h3",gutterBottom:!0},"Quiz ej startat"));if(-1===o)return r.a.createElement("div",null,r.a.createElement(C.a,{variant:"h3",gutterBottom:!0},"SLUT"));var i=Object.values(t).filter(function(e){return e.order===o})[0],s=n.createAnswerButtons(i.answers,i.correctAnswer,o);return r.a.createElement(a.Fragment,null,r.a.createElement("h1",{style:{fontSize:"3.5em",color:"#573697",fontWeight:"bold",marginBottom:100}},i.question),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:50,flexWrap:"wrap"}},s))},n.updateQuiz=function(){var e=n.props.dispatch,t=n.props.room.currentQuestion;e(ye(n.state.id)).then(function(){t!==n.props.room.currentQuestion?n.setState({questionClosed:!1}):e(N("Fr\xe5gan \xe4r p\xe5g\xe5ende!"))})},n.state={id:e.match.params.id,rightAnswer:null,questionClosed:!1};var o=JSON.parse(localStorage.getItem("student"));o&&(e.dispatch(L(o)),e.dispatch(W(o)));var i=e.match&&e.match.params&&e.match.params.id||!1;return e.dispatch(ye(i)),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.dispatch)(N("V\xe4lkommen till rum #".concat(this.state.id)))}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.classes,o=e.user,i=o&&o.points?o.points:0,s=this.renderQuestion();return r.a.createElement(a.Fragment,null,r.a.createElement(K,{roomId:this.state.id,history:t}),r.a.createElement("div",{style:{margin:10}},r.a.createElement(he.a,{icon:r.a.createElement(fe.a,null),label:"".concat(o.name,": ").concat(i," po\xe4ng"),clickable:!0,className:n.chip,color:"primary"})),r.a.createElement("div",{style:{width:800,height:300,margin:"100px auto",textAlign:"center"}},s,r.a.createElement(O.a,{variant:"contained",className:n.button,onClick:this.updateQuiz,color:"primary"},"Visa fr\xe5ga")),r.a.createElement(te,null))}}]),t}(a.Component),we=Object(b.compose)(Object(h.withStyles)(function(e){return{root:Object(ie.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:450,margin:"50px auto"}),card:{maxWidth:380,marginBottom:30},cardAction:{width:350,maxWidth:380},orangeAvatar:{color:"#fff",backgroundColor:"#573697",margin:"0px auto",marginBottom:10},button:{margin:e.spacing.unit}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message,room:e.activeRoom.data,fetched:e.activeRoom.fetched,user:e.user.data}}))(Oe),ke=(n(303),n(124)),je=n.n(ke),Ce=n(123),Se=n.n(Ce),xe=n(122),Ae=n.n(xe);function Te(e){return{type:"COLLECTION_ADD",payload:e}}function Ne(e){return{type:"COLLECTION_UPDATE",payload:e}}var Ie=function(e){return function(){var e=Object(z.a)(F.a.mark(function e(t,n){var a,r,o;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=localStorage.getItem("token"))&&"undefined"!==a){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("https://stark-ocean-61611.herokuapp.com/api/question-collection",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:a}});case 5:return r=e.sent,e.next=8,r.json();case 8:(o=e.sent).success?t({type:"COLLECTION_RECIEVED",payload:o.content}):t(I("N\xe5got gick fel vid h\xe4mting Quiz."));case 10:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},qe=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(n,a){var r,o,i;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=localStorage.getItem("token"))&&"undefined"!==r){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,fetch("https://stark-ocean-61611.herokuapp.com/api/question-collection/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r},body:JSON.stringify(e)});case 5:return o=t.sent,t.next=8,o.json();case 8:(i=t.sent).success?i.content&&(n(Te(i.content)),n(N("Fr\xe5gesamlingen sparades"))):n(I("N\xe5got gick fel vid skapande av Quiz."));case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},Fe=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(n,a){var r,o,i,s;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=localStorage.getItem("token"))&&"undefined"!==r){t.next=3;break}return t.abrupt("return");case 3:return o="https://stark-ocean-61611.herokuapp.com/api/question-collection/update/"+e._id,t.next=6,fetch(o,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r},body:JSON.stringify(e)});case 6:return i=t.sent,t.next=9,i.json();case 9:(s=t.sent).success?s.content?(n(Ne(e)),n(N("Fr\xe5gesamlingen uppdaterades"))):n(I("Inget svar ifr\xe5n databasen")):n(I("N\xe5got gick fel vid uppdaterande av Quiz."));case 11:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},ze=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(n,a){var r,o,i,s;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=localStorage.getItem("token"))&&"undefined"!==r){t.next=3;break}return t.abrupt("return");case 3:return o="https://stark-ocean-61611.herokuapp.com/api/question-collection/delete/"+e,t.next=6,fetch(o,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r}});case 6:return i=t.sent,t.next=9,i.json();case 9:(s=t.sent).success?s.content?(n({type:"COLLECTION_DELETE",payload:s.content}),n(N("Fr\xe5gesamlingen raderades"))):n(I("Fr\xe5gesamlingen existerar inte")):n(I("N\xe5got gick fel vid radering av Quiz."));case 11:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},Le=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).createRoom=function(e){var t=n.props,a=t.dispatch,r=t.history,o=function(){var e=Math.ceil(Date.now()-1539264714045);return new Ae.a("begame").encode(e)}(n.props.auth.name,e._id);if(0===e.numberOfQuestions)return null;var i={roomId:o,quiz:e,currentQuestion:0,createdBy:n.props.auth.name,active:!0,openForAnswer:!1,name:o,created:Date.now()};a(be({history:r,room:i}))},n.createQuiz=function(){n.props.history.push("/admin/collection/")},n.editCollection=function(e){n.props.history.push("/admin/collection/".concat(e))},n.renderCards=function(){var e=n.props,t=e.questionCollections,a=e.classes;return 0===Object.keys(t).length?null:Object.keys(t).map(function(e){var o=t[e];return o.numberOfQuestions=o.questions?Object.keys(o.questions).length:0,r.a.createElement(ce.a,{key:o._id,className:a.card},r.a.createElement(ue.a,null,r.a.createElement(Se.a,{className:a.media,image:o.imgUrl,title:o.title}),r.a.createElement(me.a,null,r.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},o.title),r.a.createElement(C.a,{component:"p"},o.description),r.a.createElement(C.a,{variant:"caption",style:{marginTop:"5px"}},"Fr\xe5gor ",o.numberOfQuestions,"st"))),r.a.createElement(je.a,null,r.a.createElement(O.a,{size:"small",color:"primary",onClick:function(e){n.createRoom(o)}},"Starta"),r.a.createElement(O.a,{size:"small",color:"primary",onClick:function(t){return n.editCollection(e)}},"Redigera")))})},n.state={update:!1};var a=e.collectionFetched,o=e.dispatch,i=e.history;a||o(Ie());var c=JSON.parse(localStorage.getItem("auth"));return c&&c.token&&c.token.length>10?o(W(JSON.parse(localStorage.getItem("auth")))):i.push("/admin"),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.history,o=this.renderCards();return r.a.createElement(a.Fragment,null,r.a.createElement(K,{history:n,adminPanel:!0,auth:this.props.auth}),r.a.createElement("div",{className:"adminpanel"},r.a.createElement(O.a,{variant:"contained",color:"primary",className:t.button,onClick:this.createQuiz},"Skapa quiz"),r.a.createElement("div",null,r.a.createElement("div",{className:"listDiv"},o))))}}]),t}(a.Component);var Re=Object(y.b)(function(e){return{value:e.value,auth:e.auth,questionCollections:e.questionCollections.data,collectionFetched:e.questionCollections.fetched}})(Object(h.withStyles)(function(e){return{input:{display:"none"},card:{maxWidth:345,marginRight:15,marginBottom:15,minWidth:295},media:{height:140},button:{marginBottom:20}}})(Le)),Be=(n(307),n(125)),_e=n.n(Be),Pe=n(129),We=n.n(Pe),De=n(127),Qe=n.n(De),Ue=n(128),He=n.n(Ue),Je=n(126),Me=n.n(Je),Ve=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,inputname:"",pw1:"",pw2:""},n.handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n.handleRegister=function(){n.state.pw1.length&&n.state.pw2.length&&n.state.inputname.length?n.state.pw1.length<6?n.props.dispatch(I("L\xf6senordet \xe4r f\xf6r kort")):n.state.pw1!==n.state.pw2?n.props.dispatch(I("L\xf6senorden matchar inte")):(n.setState({open:!1}),fetch("https://stark-ocean-61611.herokuapp.com/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n.state.pw1,name:n.state.inputname})}).then(function(e){return e.json()}).then(function(e){n.props.dispatch(N("Grattis! Konto skapat."))}).catch(function(e){return console.log(e)})):n.props.dispatch(I("Tomma f\xe4lt, v\xe4nligen f\xf6rs\xf6k igen"))},n.handleChange=function(e,t){n.setState(Object(v.a)({},t,e.target.value))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(te,null),r.a.createElement(O.a,{onClick:this.handleClickOpen,size:"small",style:{fontSize:12,color:"#999"}},"Skapa konto"),r.a.createElement(_e.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Me.a,{id:"form-dialog-title"},"Skapa konto"),r.a.createElement(Qe.a,{style:{width:400,paddingBottom:10}},r.a.createElement(He.a,{style:{fontSize:13,marginBottom:20}},"F\xf6r att kunna skapa ett quiz beh\xf6ver du skapa ett konto."),r.a.createElement(x.a,{onChange:function(t){e.handleChange(t,"inputname")},variant:"outlined",margin:"dense",id:"name",label:"Anv\xe4ndarnamn",type:"email",fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(x.a,{onChange:function(t){e.handleChange(t,"pw1")},variant:"outlined",margin:"dense",id:"pw1",label:"L\xf6senord",type:"password",fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(x.a,{onChange:function(t){e.handleChange(t,"pw2")},variant:"outlined",margin:"dense",id:"pw2",label:"Upprepa l\xf6senord",type:"password",fullWidth:!0,InputLabelProps:{shrink:!0}})),r.a.createElement(We.a,null,r.a.createElement(O.a,{onClick:this.handleClose,color:"secondary"},"Avbryt"),r.a.createElement(O.a,{onClick:this.handleRegister,color:"secondary"},"Registrera"))))}}]),t}(a.Component),Ge=Object(y.b)(function(e){return{value:e.value,snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}})(Object(h.withStyles)(function(e){return{input:{display:"none"},card:{maxWidth:245,marginRight:15,marginBottom:15,minWidth:245},media:{height:140},root:Object(ie.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:250,margin:"auto"}),stepper:Object(ie.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:725,margin:"auto"})}},{withTheme:!0})(Ve)),Ke=n(314),Xe=n(315),Ye=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){n.setState(Object(v.a)({},e,t.target.value))}},n.validation=function(){var e=n.state,t=e.password,a=e.name,r=n.props.dispatch;a&&t?n.login({name:a,password:t}):r(I("Anv\xe4ndarnamn och l\xf6senord kr\xe4vs."))},n.login=function(e){var t=n.props,a=t.dispatch,r=t.history;a(D({history:r,user:e}))},n.pressEnterToLogin=function(e){13===e.wich&&n.validation()},n.state={loading:!1,name:"",password:"",jwt:""},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.history,n=e.dispatch,a=localStorage.getItem("token");JSON.parse(localStorage.getItem("auth"))&&n(W(JSON.parse(localStorage.getItem("auth")))),a&&a.length>10&&(this.setState({jwt:a}),n(W(JSON.parse(localStorage.getItem("auth")))),t.push("/admin/home"))}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.username,a=this.props,o=a.classes,i=a.history;return r.a.createElement("div",null,r.a.createElement(K,{history:i,username:n,isAdmin:!0}),t&&r.a.createElement(T.a,{thickness:2,color:"secondary"}),r.a.createElement("div",{className:o.main},r.a.createElement("img",{src:Xe,alt:"Begame",className:o.logo,width:"250px"}),r.a.createElement(k.a,{className:o.container},r.a.createElement(C.a,{variant:"h6",className:o.welcome},"V\xe4lkommen!"),r.a.createElement(C.a,{variant:"subtitle1",className:o.login},"Logga in med anv\xe4ndarnamn och l\xf6senord"),r.a.createElement("div",{className:o.margin},r.a.createElement(x.a,{type:"text",onChange:this.handleChange("name"),value:this.state.name,id:"input-with-icon-grid1",label:"Anv\xe4ndarnamn",margin:"dense",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(x.a,{type:"password",onChange:this.handleChange("password"),value:this.state.password,id:"input-with-icon-grid2",label:"L\xf6senord",margin:"dense",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(O.a,{style:{marginBottom:20,marginTop:10},variant:"contained",color:"secondary",fullWidth:!0,onClick:this.validation,disabled:t,size:"large"},"Logga in")),r.a.createElement("div",{className:o.margin},r.a.createElement(Ge,null)))),r.a.createElement(C.a,{className:o.copyright},"\xa9 Copyright 2018 | All Rights Reserved | Begame"),r.a.createElement(te,null))}}]),t}(a.Component),$e=Object(b.compose)(Object(h.withStyles)(function(){return{main:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 50px)",alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .9), rgba(0, 0, 0, .9)), url(".concat(Ke,")"),backgroundColor:"#fafafa",backgroundSize:"cover"},container:{padding:40,marginTop:-70,paddingTop:30},margin:{width:350,textAlign:"center"},welcome:{textAlign:"center"},login:{textAlign:"center",marginBottom:20},copyright:{textAlign:"center",fontSize:11,marginTop:-70,color:"#fff"},logo:{marginTop:-100,marginBottom:30,zIndex:1},inputFocused:{width:"40%",borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)",backgroundColor:"#00FF00"}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}}))(Ye),Ze=n(84),et=n.n(Ze),tt=n(66),nt=n.n(tt),at=n(67),rt=n.n(at),ot=n(130),it=n.n(ot),st=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).renderActiveUsers=function(){var e=n.props,t=e.classes,a=e.users;return a?a.map(function(e){return r.a.createElement(nt.a,{className:t.listitem,key:e._id},r.a.createElement(rt.a,{disableTypography:!0,primary:r.a.createElement(C.a,{type:"body2",className:t.userText},e.name),secondary:r.a.createElement(C.a,{type:"body2",className:t.pointsText},e.points)}))}):r.a.createElement("div",null,"User is missing")},n.getNewUserData=function(e){var t=n.props,a=t.dispatch,r=t.roomId;r&&a(_({roomId:r,failMsg:e}))};var a=e.fetched,o=e.dispatch,i=e.roomId;return!a&&i&&o(_({roomId:i,failMsg:!1})),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){e.getNewUserData(!1)},2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.users,a=e.room,o=a&&a.createdBy,i=this.renderActiveUsers();return r.a.createElement("div",{className:t.root},r.a.createElement(et.a,null,r.a.createElement(nt.a,{className:t.listitem},r.a.createElement(it.a,{className:t.rightIcon}),r.a.createElement(rt.a,{disableTypography:!0,primary:r.a.createElement(C.a,{type:"body2",className:t.onlineText},n.length||0)})),r.a.createElement(nt.a,{className:t.listitem},r.a.createElement(rt.a,{disableTypography:!0,primary:r.a.createElement(C.a,{type:"body2",className:t.userText},o),secondary:r.a.createElement(C.a,{type:"body2",className:t.pointsText},"GAME MASTER")})),i))}}]),t}(a.Component),ct=Object(y.b)(function(e){return{users:e.users.data,fetched:e.users.fetched,room:e.activeRoom.data}})(Object(h.withStyles)(function(e){return{root:{width:"100%",maxWidth:250,height:"95vh",backgroundColor:"#512DA8",float:"left"},userText:{color:"#FAFAFA",fontSize:"1rem",fontWeight:"400"},pointsText:{color:"#FAFAFA",fontWeight:"400"},onlineText:{color:"#FAFAFA",fontWeight:"bolder",fontSize:15},rightIcon:{color:"#FAFAFA"},listitem:{paddingTop:0}}})(st)),lt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={completed:0,time:10,currentTime:0,inProgress:!1,lockStart:!1,showEndTime:!1,reseted:!1,open:!0},n.progress=function(){var e=n.state,t=e.completed,a=e.time,r=e.currentTime;r+=1,(t+=100/a)>100?(n.setState({completed:0,inProgress:!1,currentTime:0,lockStart:!1,showEndTime:!0,open:!0,reseted:!1}),clearInterval(n.timer),n.props.questionOpenForAnswer(!1),n.props.showRightAnswer(!0)):n.setState({completed:t,currentTime:r,inProgress:!0})},n.handleChange=function(e){return function(t){n.setState(Object(v.a)({},e,t.target.value))}},n.start=function(){var e=n.state,t=e.lockStart,a=e.inProgress,r=e.reseted;t||(a||r||(n.props.questionOpenForAnswer(!0),n.props.showRightAnswer(!1),n.props.nextQuest()),n.setState({lockStart:!0,showEndTime:!1},function(){n.timer=setInterval(n.progress,1e3)}))},n.stop=function(){n.setState({lockStart:!1}),clearInterval(n.timer)},n.clearTimer=function(){clearInterval(n.timer),n.setState({completed:0,inProgress:!1,currentTime:0,lockStart:!1,showEndTime:!1,reseted:!0})},n.handleClose=function(){n.setState({open:!1})},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.inProgress,a=t.lockStart;return r.a.createElement("div",null,r.a.createElement("div",{className:e.root},r.a.createElement(T.a,{variant:"determinate",value:this.state.completed})),r.a.createElement("div",{className:e.wrapperButtons},!a&&r.a.createElement(O.a,{variant:"contained",color:"primary",className:e.button,onClick:this.start},n?"Forts\xe4tt":"Start"),a&&r.a.createElement(O.a,{variant:"contained",color:"primary",className:e.button,onClick:this.stop},"Stopp"),r.a.createElement(O.a,{color:"primary",variant:"outlined",className:e.button,onClick:this.clearTimer},"\xc5terst\xe4ll"),n&&r.a.createElement(x.a,{id:"outlined-number",label:"Tid i sekunder",value:this.state.time-this.state.currentTime,type:"number",className:e.textField,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),!n&&r.a.createElement(x.a,{id:"outlined-number",label:"Tid i sekunder",value:this.state.time,onChange:this.handleChange("time"),type:"number",className:e.textField,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"})))}}]),t}(a.Component),ut=Object(h.withStyles)(function(e){return{root:{flexGrow:1,marginBottom:20},textField:{marginTop:3,maxHeight:50,marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:100},button:{marginTop:2,maxHeight:50,width:100,marginLeft:e.spacing.unit,marginRight:e.spacing.unit},wrapperButtons:{marginTop:10,display:"flex",justifyContent:"auto",alignItem:"center",flexDirection:"row"},wrapperChip:{display:"flex",alignItems:"center",marginLeft:"100"}}})(lt),pt=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).selectedAnswer=function(e,t){e===t?console.log("R\xe4tt svar!"):console.log("Fel svar!")},n.createAnswerButtons=function(e,t){var o=n.props.classes,i=n.state.rightAnswer,s=["a","b","c","d"];return Object.values(e).map(function(e,c){return r.a.createElement(a.Fragment,{key:c},r.a.createElement(ce.a,{className:i===s[c]?o.cardRight:o.card,onClick:function(){return n.selectedAnswer(s[c],t)},raised:n.state.selectedA},r.a.createElement(ue.a,{className:o.cardAction},r.a.createElement(me.a,null,r.a.createElement(M.a,{className:o.orangeAvatar},s[c].toUpperCase()),r.a.createElement(C.a,{component:"p"},e)))))})},n.renderQuestion=function(){var e=n.props,t=e.room,o=e.classes,i=((t||!1).quiz||!1).questions,s=t&&t.quiz&&t.quiz.title,c=t&&t.quiz&&t.quiz.description;if(!i)return r.a.createElement(k.a,{className:o.root,elevation:1},r.a.createElement(C.a,{variant:"h5",component:"h3"},s),r.a.createElement(C.a,{component:"p"},c));var l=t&&t.currentQuestion;if(0===l)return r.a.createElement(k.a,{className:o.root,elevation:1},r.a.createElement(C.a,{variant:"h5",component:"h3"},s),r.a.createElement(C.a,{component:"p"},c));if(-1===l){if(n.state.showTimer)return r.a.createElement("div",null,r.a.createElement(C.a,{variant:"h3",gutterBottom:!0},"SLUT"))}else n.state.showTimer;var u=Object.values(i).filter(function(e){return e.order===l})[0],p=n.createAnswerButtons(u.answers,u.correctAnswer);return r.a.createElement(a.Fragment,null,r.a.createElement("h1",{style:{fontSize:"3.5em",color:"#573697",fontWeight:"bold",marginBottom:100}},u.question),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:50,flexWrap:"wrap"}},p))},n.nextQuestion=function(){var e=n.props.room._id,t=n.props.room,a=t.currentQuestion,r=t.quiz;a+=1,Object.keys(r.questions).length<a&&(a=-1);var o={roomIdInDb:e,update:{currentQuestion:a}};n.props.dispatch(Ee(o))},n.questionOpenForAnswer=function(e){var t=n.props.dispatch,a=n.props.room._id;t(Ee({update:{openForAnswer:e},roomIdInDb:a}))},n.showRightAnswer=function(e){if(e){var t=n.props.room,a=t.currentQuestion,r=t.quiz.questions,o=Object.values(r).filter(function(e){return e.order===a})[0].correctAnswer;n.setState({rightAnswer:o})}else n.setState({rightAnswer:null})},n.showTimer=function(){var e=n.props.room,t=e&&e.currentQuestion?e.currentQuestion:0;return 0===t||-1!==t},n.state={id:e.match.params.id,showTimer:!0,rightAnswer:null};var o=e.match&&e.match.params&&e.match.params.id||!1;return o&&e.dispatch(ye(o)),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.dispatch)(N("V\xe4lkommen till rum ".concat(this.state.id)))}},{key:"render",value:function(){var e=this.props.history,t=this.renderQuestion(),n=this.showTimer();return r.a.createElement(a.Fragment,null,r.a.createElement(K,{roomId:this.state.id,history:e}),r.a.createElement(ct,{roomId:this.state.id}),r.a.createElement("div",{style:{width:800,height:300,margin:"100px auto",textAlign:"center"}},t,n&&r.a.createElement(ut,{nextQuest:this.nextQuestion,questionOpenForAnswer:this.questionOpenForAnswer,showRightAnswer:this.showRightAnswer})),r.a.createElement(te,null))}}]),t}(a.Component),mt=Object(b.compose)(Object(h.withStyles)(function(e){return{root:Object(ie.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:450,margin:"50px auto"}),card:{maxWidth:380,marginBottom:30},cardRight:{maxWidth:380,marginBottom:30,backgroundColor:"#a1c45a"},cardAction:{width:350,maxWidth:380},orangeAvatar:{color:"#fff",backgroundColor:"#573697",margin:"0px auto",marginBottom:10}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message,room:e.activeRoom.data,fetched:e.activeRoom.fetched}}))(pt),dt=n(131),ht=n.n(dt),gt=n(132),ft=n.n(gt),vt=n(133),bt=n.n(vt),yt=["a","b","c","d"],Et=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e,t,a){var r=e.target.value;if("answers"===t){var o=n.state.answers;o[a]=r,n.setState({answers:o})}else"question"===t&&n.setState({question:r})},n.renderAnswer=function(){var e=n.state.answers,t=n.props.classes;return Object.keys(e).map(function(e){return r.a.createElement("div",{key:e,className:t.textFieldDiv},r.a.createElement(x.a,{id:"outlined-name",label:e,className:t.textFieldWithButton,value:n.state.answers[e],onChange:function(t){return n.handleChange(t,"answers",e)},margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}}),r.a.createElement(O.a,{variant:"contained",size:"medium",color:n.state.correctAnswer===e?"secondary":"primary",className:t.textFieldButton,onClick:function(){return n.setCorrectAnswer(e)}},"R\xe4tt svar"))})},n.setCorrectAnswer=function(e){n.setState({correctAnswer:e}),console.log("Typeof data: ",typeof e)},n.saveQuestion=function(){var e=n.props.dispatch,t=!0;for(var a in n.state.question.length<4&&"string"!==typeof n.state.question&&(t=!1),n.state.answers)0===n.state.answers[a].length&&(t=!1);n.state.correctAnswer||(t=!1),t?(e(N("Du la till en fr\xe5ga")),n.props.addQuestion(Object(ie.a)({},n.state,{answers:Object(ie.a)({},n.state.answers)})),n.setState({question:"",answers:{a:"",b:""},correctAnswer:null})):e(I("Fr\xe5gan uppfyller inte kraven."))},n.changeAnswersOption=function(e){var t=Object(ie.a)({},n.state).answers,a=Object.keys(t).length;e&&a<Object.keys(yt).length?(t[yt[a]]="",n.setState({answers:t})):!e&&a>2&&(delete t[yt[a-1]],n.setState({answers:t}))},n.state={question:"",answers:{a:"",b:""},correctAnswer:null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=this.renderAnswer();return r.a.createElement(k.a,{style:{width:600,padding:20,margin:"0px auto"}},r.a.createElement(C.a,{variant:"h5",gutterBottom:!0},"L\xe4gg till fr\xe5ga"),r.a.createElement(x.a,{id:"outlined-name",label:"Fr\xe5ga",value:this.state.question,onChange:function(t){return e.handleChange(t,"question")},margin:"normal",variant:"outlined",multiline:!0,fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13}}}),n,r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(O.a,{variant:"outlined",color:"secondary",size:"small",className:t.button,onClick:function(){return e.changeAnswersOption(!0)}},"L\xe4gg till svarsalternativ"),r.a.createElement(O.a,{variant:"outlined",color:"secondary",size:"small",className:t.button,onClick:function(){return e.changeAnswersOption(!1)}},"Ta bort svarsalternativ"),r.a.createElement(O.a,{variant:"outlined",color:"primary",size:"small",className:t.button,onClick:this.saveQuestion},"Spara fr\xe5gan")))}}]),t}(a.Component),Ot=Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}})(Object(h.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"90%"},textFieldWithButton:{width:"75%"},textFieldDiv:{width:"103%"},textFieldButton:{margin:"20px 20px"},button:{marginRight:15}}})(Et)),wt=4,kt=4,jt=4,Ct=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChangeQuestions=function(e,t,a){if(void 0!==e.target.value){var r=n.state.questions;"correctAnswer"===a?r[t][a]=e.target.value:r[t].answers[a]=e.target.value,n.setState({questions:r})}},n.handleChange=function(e,t){void 0!==e.target.value&&n.setState(Object(v.a)({},t,e.target.value))},n.addQuestion=function(e){var t=n.props.dispatch;if(n.setState({questions:Object(ie.a)({},n.state.questions,Object(v.a)({},e.question,e))}),!n.state.new_quiz){var a=n.props.match&&n.props.match.params&&n.props.match.params.id,r=n.props.questionCollections[a];r.questions=r.questions?r.questions:{},r.questions[e.question]=e,t(Ne(r))}},n.saveQuiz=function(){var e=n.props.dispatch,t=Object(ie.a)({},n.state,{title:n.state.title,description:n.state.description,imgUrl:n.state.imgUrl,questions:n.state.questions,category:"Temporary"}),a=1;for(var r in t.questions)t.questions[r].order=a,a++;!function(e){var t=e.title,n=e.description,a=e.imgUrl;return!!(t&&n&&a)&&!(t.length<wt||n.length<kt||a.length<jt)}(t)?e(I("Fr\xe5gesamlingen uppfyller inte alla krav!")):n.state.new_quiz?e(qe(t)):e(Fe(t))},n.removeQuiz=function(){(0,n.props.dispatch)(ze(n.state._id))},n.removeQuestion=function(e){var t=n.props.dispatch;if(n.state.new_quiz){var a=Object(ie.a)({},n.state.questions);delete a[e],n.setState({questions:a})}else{var r=n.props.match&&n.props.match.params&&n.props.match.params.id,o=n.props.questionCollections[r];delete o.questions[e],t(Ne(o))}},n.renderTableView=function(){var e=n.props.questionCollections,t=n.props.match&&n.props.match.params&&n.props.match.params.id,a=!1;if(n.state._id){if(0===Object.keys(e).length||!t)return null}else a=!0;var o=(a?n.state:e[t]).questions;return o?Object.keys(o).map(function(e,t){var a=o[e];return r.a.createElement(ht.a,{key:t,style:{width:640,marginLeft:-20}},r.a.createElement(ft.a,null,r.a.createElement("div",{id:"expPanel"},r.a.createElement(C.a,null,a.question)),r.a.createElement(O.a,{style:{paddingRight:0},variant:"outlined",color:"secondary",onClick:function(t){return n.removeQuestion(e)}},r.a.createElement("p",{style:{paddingRight:15}},"Ta bort"))),r.a.createElement(bt.a,null,r.a.createElement("div",null,Object.keys(o[e].answers).map(function(t){return r.a.createElement(x.a,{key:t,id:"standard-full-width",label:t,value:o[e].answers[t],style:{margin:8},placeholder:"Placeholder",fullWidth:!0,margin:"normal",onChange:function(a){return n.handleChangeQuestions(a,e,t)},InputLabelProps:{shrink:!0}})}),r.a.createElement(x.a,{id:"standard-full-width",label:"correctAnswer",value:o[e].correctAnswer,style:{margin:8},placeholder:"R\xe4tt svar",fullWidth:!0,margin:"normal",onChange:function(t){return n.handleChangeQuestions(t,e,"correctAnswer")},InputLabelProps:{shrink:!0}}))))}):"Inga fr\xe5gor finns i samlingen"},n.state={_id:null,isLoaded:!1,questions:{},imgUrl:"",description:"",new_quiz:!0},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.title,o=t.imgUrl,i=t.description,s=this.props,c=s.classes,l=s.history,u=this.renderTableView();return r.a.createElement(a.Fragment,null,r.a.createElement(K,{history:l,createQuiz:!0}),r.a.createElement("div",{style:{float:"right",marginTop:10}},r.a.createElement(O.a,{variant:"contained",color:"primary",className:c.button,onClick:this.saveQuiz},"Spara Quiz"),!this.state.new_quiz&&r.a.createElement(O.a,{variant:"contained",color:"secondary",className:c.button,onClick:this.removeQuiz},"Ta bort Quiz")),r.a.createElement("div",{className:c.root},r.a.createElement(k.a,{className:c.paper},r.a.createElement(C.a,{variant:"h5",gutterBottom:!0},"Skapa quiz"),r.a.createElement(x.a,{id:"outlined-name",label:"Title",className:c.textField,value:n,onChange:function(t){return e.handleChange(t,"title")},margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}}),r.a.createElement("br",null),r.a.createElement(x.a,{id:"outlined-name",label:"Beskrivning",value:i,className:c.textField,onChange:function(t){return e.handleChange(t,"description")},margin:"normal",variant:"outlined",multiline:!0,fullWidth:!0,rows:2,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13}}}),r.a.createElement("br",null),r.a.createElement(x.a,{id:"outlined-name",label:"Bild url",value:o,className:c.textField,onChange:function(t){return e.handleChange(t,"imgUrl")},margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{src:o,alt:"Bild Saknas",height:"300",width:"auto",style:{margin:50}})))),r.a.createElement(Ot,{dispatch:this.props.dispatch,addQuestion:this.addQuestion}),r.a.createElement(te,null),r.a.createElement(k.a,{style:{width:600,margin:"20px auto",padding:20,marginBottom:"500px"}},r.a.createElement(C.a,{variant:"h5",gutterBottom:!0},"Fr\xe5gor"),u))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.questionCollections,a=t.isLoaded,r=e.match&&e.match.params&&e.match.params.id;if(r&&Object.keys(n).length>0&&!a){var o=n[r];return{questions:o.questions,imgUrl:o.imgUrl,title:o.title,description:o.description,_id:o._id,isLoaded:!0,new_quiz:!1}}return null}}]),t}(a.Component);var St=Object(y.b)(function(e){return{fetched:e.users.fetched,users:e.users.data,questionCollections:e.questionCollections.data}})(Object(h.withStyles)(function(e){return{root:{},expand:{width:"calc(100% - 68px)",marginLeft:10},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},contentWrapper:{display:"flex",flexDirection:"column"},button:{margin:10},removeButtonDiv:{border:"1px solid #e67575",borderRadius:5,display:"inline-block"},paper:{width:600,padding:20,marginBottom:20,marginTop:20,margin:"0px auto"},expPanel:{color:"red",justifyContent:"space-between"}}})(Ct)),xt=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(l.a)(this,Object(u.a)(t).call(this,e));var a=e.dispatch,r=e.history;return a({type:"USER_LOGOUT"}),r.push("/"),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return null}}]),t}(a.Component),At=Object(y.b)(function(e){return{value:e.value}})(xt),Tt=Object(h.createMuiTheme)({palette:f()({primary:{light:"#5E35B1",main:"#512DA8",dark:"#4527A0",contrastText:"#fff"},secondary:{light:"#FF9800",main:"#FB8C00",dark:"#F57C00",contrastText:"#fff"}}),overrides:{MuiDialog:{paperScrollPaper:{overflowY:"visible"}}},typography:{useNextVariants:!0}}),Nt=function(){return r.a.createElement(h.MuiThemeProvider,{theme:Tt},r.a.createElement(m.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:oe}),r.a.createElement(d.a,{exact:!0,path:"/room/:id",component:we}),r.a.createElement(d.a,{exact:!0,path:"/admin/",component:$e}),r.a.createElement(d.a,{exact:!0,path:"/admin/settings",component:Re}),r.a.createElement(d.a,{exact:!0,path:"/admin/collection",component:St}),r.a.createElement(d.a,{exact:!0,path:"/admin/collection/:id",component:St}),r.a.createElement(d.a,{exact:!0,path:"/admin/users",component:ct}),r.a.createElement(d.a,{exact:!0,path:"/admin/home/",component:Re}),r.a.createElement(d.a,{exact:!0,path:"/project/:id",component:mt}),r.a.createElement(d.a,{exact:!0,path:"/logout",component:At}),r.a.createElement(d.a,{exact:!0,path:"/timer",component:ut})))},It=(n(326),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Nt,null))}}]),t}(a.Component)),qt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ft(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available; please refresh."),t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var zt=n(135),Lt=n(136),Rt="ADD_TO_VALUE_EXAMPLE",Bt={title:null};var _t={message:"Initial message",error:!1,snackbarOpen:!1};var Pt={fetched:!1,data:[]},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECIVED_ALL_USER":return Object(ie.a)({},e,{data:t.payload,fetched:!0});default:return e}},Dt={fetched:!1,name:"",token:null};var Qt=n(68),Ut={fetched:!1,data:[]};var Ht="ROOM_RECIVED",Jt={fetched:!1,timer:{started:!1,stoped:!1,ended:!1}};var Mt="UPDATE_USER",Vt="UPDATE_POINTS",Gt={fetched:!1,data:{}};var Kt=Object(b.combineReducers)({editQuiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return Object(ie.a)({},e,{title:t.payload});default:return e}},errorHandling:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_SNACKBAR_MESSAGE":return Object(ie.a)({},e,{error:!1,snackbarOpen:!0,message:t.payload});case"SHOW_SNACKBAR_ERROR":return Object(ie.a)({},e,{error:!0,snackbarOpen:!0,message:t.payload});case"CLOSE_FEEDBACK":return Object(ie.a)({},e,{snackbarOpen:!1,dialogOpen:!1});default:return e}},users:Wt,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_RECEIVED":return t?(t.payload.token&&localStorage.setItem("token",t.payload.token),localStorage.setItem("auth",JSON.stringify(t.payload)),Object(ie.a)({},e,{fetched:!0,name:t.payload.name,token:t.payload.token})):e;case"TOKEN_RECIEVED":return Object(ie.a)({},e,{fetched:!0,token:t.payload});case"USER_LOGOUT":return localStorage.removeItem("token"),localStorage.removeItem("auth"),Object(ie.a)({},e,{fetched:!0,token:null,user:null});default:return e}},questionCollections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COLLECTION_RECIEVED":return Object(ie.a)({},e,{fetched:!0,data:t.payload});case"COLLECTION_ADD":return Object(ie.a)({},e,{data:Object(Qt.a)(e.data).concat([t.payload])});case"COLLECTION_UPDATE":var n=e.data.findIndex(function(e){return e._id===t.payload._id});return Object(ie.a)({},e,{data:Object(Qt.a)(e.data.slice(0,n)).concat([t.payload],Object(Qt.a)(e.data.slice(n+1)))});case"COLLECTION_DELETE":return Object(ie.a)({},e,{data:e.data.filter(function(e){return e._id!==t.payload._id})});default:return e}},activeRoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ht:return Object(ie.a)({},e,{data:t.payload,fetched:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Mt:return localStorage.setItem("student",JSON.stringify(t.payload)),Object(ie.a)({},e,{data:t.payload,fetched:!0});case Vt:var n=JSON.parse(localStorage.getItem("student"));n.points=t.payload.points,localStorage.setItem("student",JSON.stringify(n));var a=Object(ie.a)({},e);return a.data.points=t.payload.points,a;default:return e}}}),Xt=Object(b.createStore)(Kt,{},Object(Lt.composeWithDevTools)(Object(b.applyMiddleware)(zt.a))),Yt=n(330);i.a.render(r.a.createElement(y.a,{store:Xt},r.a.createElement(Yt.a,{basename:"/begame"},r.a.createElement(It,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/begame",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/begame","/service-worker.js");qt?(function(e,t){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ft(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Ft(t,e)})}}()}},[[138,2,1]]]);
//# sourceMappingURL=main.0eccbc82.chunk.js.map