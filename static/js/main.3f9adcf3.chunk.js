(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,a){e.exports=a(328)},143:function(e,t,a){},236:function(e,t,a){e.exports=a.p+"static/media/background_pleb.16057969.jpg"},237:function(e,t,a){e.exports=a.p+"static/media/logo.32d04031.png"},303:function(e,t,a){},307:function(e,t,a){},314:function(e,t,a){e.exports=a.p+"static/media/background_gm.c0a92ebb.jpg"},315:function(e,t,a){e.exports=a.p+"static/media/logo_gm.29b888b5.png"},326:function(e,t,a){},328:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),i=a.n(o),s=(a(143),a(17)),c=a(18),l=a(20),u=a(19),p=a(21),m=a(331),d=a(332),h=a(30),g=a(83),f=a.n(g),v=a(32),b=a(26),y=a(23),E=a(11),O=a.n(E),w=a(25),k=a.n(w),j=a(7),C=a.n(j),x=a(24),S=a.n(x),A=a(43),T=a.n(A);function I(e){return{type:"SHOW_SNACKBAR_MESSAGE",payload:e}}function N(e){return{type:"SHOW_SNACKBAR_ERROR",payload:e}}var q=a(22),F=a.n(q),z=a(28);function L(e){return{type:"UPDATE_USER",payload:e}}function R(e){return{type:"RECIVED_ALL_USER",payload:e}}function B(e){return{type:"UPDATE_POINTS",payload:e}}var _=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(a,n){var r,o,i,s;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.roomId,o=e.failMsg,t.next=3,fetch("https://stark-ocean-61611.herokuapp.com/api/activeUsers/".concat(r),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return i=t.sent,t.next=6,i.json();case 6:(s=t.sent).success?a(R(s.content)):o&&a(N("N\xe5got gick fel vid h\xe4mtning av anv\xe4ndare."));case 8:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},P=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(a,n){var r,o,i;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.uid,o=e.points,t.next=3,fetch("https://stark-ocean-61611.herokuapp.com/api/activeUsers/edit/".concat(r),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({points:o})});case 3:return i=t.sent,t.next=6,i.json();case 6:t.sent.success?a(B({points:o})):a(N("Fel anv\xe4ndarnamn eller l\xf6senord."));case 8:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()};function D(e){return{type:"AUTH_RECEIVED",payload:e}}var Q=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(a,n){var r,o,i,s,c,l,u;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.history,o=e.user,i=o.name,s=o.password,t.next=4,fetch("https://stark-ocean-61611.herokuapp.com/api/authenticate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:i,password:s})});case 4:return c=t.sent,t.next=7,c.json();case 7:(l=t.sent).success?(u={name:i,token:l.content.token},a(D(u)),r.push("/admin/home")):a(N("Fel anv\xe4ndarnamn eller l\xf6senord."));case 9:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},W=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(a,n){var r,o,i,s,c,l;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.history,o=e.username,i=e.roomId,t.next=3,fetch("https://stark-ocean-61611.herokuapp.com/api/activeUsers/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:o,points:0,roomId:i})});case 3:return s=t.sent,t.next=6,s.json();case 6:(c=t.sent).success?(l={name:o,token:c.content.token,uid:c.content._id,points:0},a(L(l)),r.push("/room/".concat(i))):a(N("Fel anv\xe4ndarnamn eller l\xf6senord."));case 8:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},U=a(118),H=a.n(U),M=a(42),J=a.n(M),V=a(119),G=a.n(V);var K=Object(h.withStyles)({root:{flexGrow:1,zIndex:100},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},appHeight:{minHeight:50},roomStyleText:{fontWeight:500,verticalAlign:-12,marginLeft:10},avatar:{float:"left"}})(function(e){var t=e.classes,a=e.history,o=e.roomId,i=e.isAdmin,s=e.adminPanel,c=e.auth,l=e.createQuiz,u="primary";return i&&(u="secondary"),r.a.createElement("div",{className:t.root},r.a.createElement(H.a,{position:"static",color:u},r.a.createElement(G.a,{className:t.appHeight},r.a.createElement("div",{className:t.grow,color:"inherit"},o&&r.a.createElement("p",{className:t.roomStyleText},"ROOMID #".concat(o)),s&&c&&r.a.createElement(n.Fragment,null,r.a.createElement(J.a,{alt:c.name,src:"https://upload.wikimedia.org/wikipedia/commons/3/38/Wikipedia_User-ICON_byNightsight.png",width:"50px",className:t.avatar}),r.a.createElement("span",{className:t.roomStyleText},"GM ",c.name.toUpperCase()))),!o&&i&&r.a.createElement(O.a,{color:"inherit",onClick:function(){a.push("/")}},"Student"),!o&&!i&&!s&&!l&&r.a.createElement(O.a,{color:"inherit",onClick:function(){a.push("/admin")}},"Admin"),o&&r.a.createElement(O.a,{color:"inherit",onClick:function(){a.push("/logout")}},"LOGGA UT"),l&&r.a.createElement(O.a,{color:"inherit",onClick:function(){a.goBack()}},"Go back"),s&&c&&r.a.createElement("div",null,r.a.createElement(O.a,{color:"inherit",onClick:function(){a.push("/logout")}},"Logga ut")))))}),X=a(120),Y=a.n(X),$=a(84),Z={error:{background:a.n($).a[500]},success:{background:"#FB8C00",color:"#FAFAFA"}},ee=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(){a.props.dispatch({type:"CLOSE_FEEDBACK"})},a.renderSnackbar=function(){return r.a.createElement(Y.a,{open:a.props.snackbarOpen,message:a.props.message,autoHideDuration:3e3,onClose:a.handleClose,ContentProps:{classes:{root:a.props.error?a.props.classes.error:a.props.classes.success}}})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.renderSnackbar())}}]),t}(r.a.Component),te=Object(b.compose)(Object(h.withStyles)(Z),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}}))(ee),ae=a(236),ne=a(237),re=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.validation=function(){var e=a.state,t=e.username,n=e.roomId,r=a.props.dispatch;t&&n?a.login(t,n):r(N("Anv\xe4ndarnamn eller ID \xe4r felaktigt."))},a.login=function(e,t){var n=a.props,r=n.history;(0,n.dispatch)(W({history:r,username:e,roomId:t}))},a.state={loading:!1,username:"",roomId:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,a=e.username,n=this.props,o=n.classes,i=n.history;return r.a.createElement("div",null,r.a.createElement(K,{history:i,username:a}),t&&r.a.createElement(T.a,{thickness:2,color:"primary"}),r.a.createElement("div",{className:o.main},r.a.createElement("img",{src:ne,alt:"Begame",className:o.logo,width:"250px"}),r.a.createElement(k.a,{className:o.container},r.a.createElement(C.a,{variant:"h6",className:o.welcome},"V\xe4lkommen!"),r.a.createElement(C.a,{variant:"subtitle1",className:o.login},"Logga in med anv\xe4ndarnamn och #ID"),r.a.createElement("div",{className:o.margin},r.a.createElement(S.a,{type:"text",onChange:this.handleChange("username"),id:"input-with-icon-grid",label:"Anv\xe4ndarnamn",margin:"dense",variant:"outlined",fullWidth:!0,autoFocus:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(S.a,{type:"text",onChange:this.handleChange("roomId"),id:"input-with-icon-grid2",label:"#ID",margin:"dense",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(O.a,{style:{marginBottom:20,marginTop:10},variant:"contained",color:"primary",fullWidth:!0,onClick:this.validation,disabled:t,size:"large"},"Logga in")))),r.a.createElement(C.a,{className:o.copyright},"\xa9 Copyright 2018 | All Rights Reserved | Begame"),r.a.createElement(te,null))}}]),t}(n.Component),oe=Object(b.compose)(Object(h.withStyles)(function(){return{main:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 50px)",alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .9), rgba(0, 0, 0, .9)), url(".concat(ae,")"),backgroundColor:"#fafafa",backgroundSize:"cover"},container:{padding:40,marginTop:-70,paddingTop:30},margin:{width:350},welcome:{textAlign:"center"},login:{textAlign:"center",marginBottom:20},copyright:{textAlign:"center",fontSize:11,marginTop:-70,color:"#fff"},logo:{marginTop:-100,marginBottom:30,zIndex:1}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}}))(re),ie=a(10),se=a(44),ce=a.n(se),le=a(45),ue=a.n(le),pe=a(46),me=a.n(pe),de=a(121),he=a.n(de),ge=a(122),fe=a.n(ge);function ve(e){return{type:"ROOM_RECIVED",payload:e}}var be=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(a,n){var r,o,i,s,c;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.history,o=e.room,(i=localStorage.getItem("token"))&&"undefined"!==i){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,fetch("https://stark-ocean-61611.herokuapp.com/api/rooms/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:i},body:JSON.stringify(o)});case 6:return s=t.sent,t.next=9,s.json();case 9:(c=t.sent).success&&(a(ve(c.content)),r.push("/project/"+c.content.roomId));case 11:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},ye=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(a,n){var r,o;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://stark-ocean-61611.herokuapp.com/api/rooms/".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return r=t.sent,t.next=5,r.json();case 5:(o=t.sent).success&&a(ve(o.content[0]));case 7:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},Ee=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(a,n){var r,o,i,s;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("token"),o=e.roomIdInDb,r&&"undefined"!==r){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,fetch("https://stark-ocean-61611.herokuapp.com/api/rooms/edit/".concat(o),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r},body:JSON.stringify(e.update)});case 6:return i=t.sent,t.next=9,i.json();case 9:(s=t.sent).success&&a(ve(s.content));case 11:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},Oe=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).selectedAnswer=function(e,t,n){var r=a.props.match.params.id,o=a.props.dispatch,i=e===t,s=JSON.parse(localStorage.getItem("student"));if(s.lastQuestion===n)return o(I("Du har redan svarat p\xe5 fr\xe5gan \ud83e\udd14")),null;s.lastQuestion=n,localStorage.setItem("student",JSON.stringify(s)),i?(o(I("R\xe4tt svar! \ud83d\ude0e")),o(ye(r)).then(function(){if(a.props.room.openForAnswer){var e=a.props.user,t=e.points,n=e.uid;o(P({uid:n,points:t+=10})).then(function(){a.setState({rightAnswer:!0,questionClosed:!0})})}else o(I("R\xe4tt svar! \ud83d\ude0e"))})):(a.setState({rightAnswer:!1,questionClosed:!0}),o(I("Fel! \ud83d\ude2b")))},a.createAnswerButtons=function(e,t,o){var i=a.props.classes,s=["a","b","c","d","e","f","g","h"];return Object.values(e).map(function(e,c){return r.a.createElement(n.Fragment,{key:c},r.a.createElement(ce.a,{className:i.card,onClick:function(){return a.selectedAnswer(s[c],t,o)}},r.a.createElement(ue.a,{className:i.cardAction},r.a.createElement(me.a,null,r.a.createElement(J.a,{className:i.orangeAvatar},s[c].toUpperCase()),r.a.createElement(C.a,{component:"p"},e)))))})},a.renderQuestion=function(){var e=a.props.room,t=((e||!1).quiz||!1).questions;if(!t)return r.a.createElement("div",null,r.a.createElement(C.a,{variant:"h3",gutterBottom:!0},"Ej startad \xe4nnu"));var o=e&&e.currentQuestion;if(0===o)return r.a.createElement("div",null,r.a.createElement(C.a,{variant:"h3",gutterBottom:!0},"Quiz ej startat"));if(-1===o)return r.a.createElement("div",null,r.a.createElement(C.a,{variant:"h3",gutterBottom:!0},"SLUT"));var i=Object.values(t).filter(function(e){return e.order===o})[0],s=a.createAnswerButtons(i.answers,i.correctAnswer,o);return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{style:{fontSize:"3.5em",color:"#573697",fontWeight:"bold",marginBottom:100}},i.question),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:50,flexWrap:"wrap"}},s))},a.updateQuiz=function(){var e=a.props.dispatch,t=a.props.room.currentQuestion;e(ye(a.state.id)).then(function(){t!==a.props.room.currentQuestion?a.setState({questionClosed:!1}):e(I("Fr\xe5gan \xe4r p\xe5g\xe5ende!"))})},a.state={id:e.match.params.id,rightAnswer:null,questionClosed:!1};var o=JSON.parse(localStorage.getItem("student"));o&&(e.dispatch(L(o)),e.dispatch(D(o)));var i=e.match&&e.match.params&&e.match.params.id||!1;return e.dispatch(ye(i)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.dispatch)(I("V\xe4lkommen till rum #".concat(this.state.id)))}},{key:"render",value:function(){var e=this.props,t=e.history,a=e.classes,o=e.user,i=o&&o.points?o.points:0,s=this.renderQuestion();return r.a.createElement(n.Fragment,null,r.a.createElement(K,{roomId:this.state.id,history:t}),r.a.createElement("div",{style:{margin:10}},r.a.createElement(he.a,{icon:r.a.createElement(fe.a,null),label:"".concat(o.name,": ").concat(i," po\xe4ng"),clickable:!0,className:a.chip,color:"primary"})),r.a.createElement("div",{style:{width:800,height:300,margin:"100px auto",textAlign:"center"}},s,r.a.createElement(O.a,{variant:"contained",className:a.button,onClick:this.updateQuiz,color:"primary"},"Visa fr\xe5ga")),r.a.createElement(te,null))}}]),t}(n.Component),we=Object(b.compose)(Object(h.withStyles)(function(e){return{root:Object(ie.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:450,margin:"50px auto"}),card:{maxWidth:380,marginBottom:30},cardAction:{width:350,maxWidth:380},orangeAvatar:{color:"#fff",backgroundColor:"#573697",margin:"0px auto",marginBottom:10},button:{margin:e.spacing.unit}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message,room:e.activeRoom.data,fetched:e.activeRoom.fetched,user:e.user.data}}))(Oe),ke=(a(303),a(124)),je=a.n(ke),Ce=a(123),xe=a.n(Ce),Se=a(65),Ae=a.n(Se);function Te(e){return{type:"COLLECTION_ADD",payload:e}}function Ie(e){return{type:"COLLECTION_UPDATE",payload:e}}var Ne=function(e){return function(){var e=Object(z.a)(F.a.mark(function e(t,a){var n,r,o;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=localStorage.getItem("token"))&&"undefined"!==n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,fetch("https://stark-ocean-61611.herokuapp.com/api/question-collection",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:n}});case 5:return r=e.sent,e.next=8,r.json();case 8:(o=e.sent).success?t({type:"COLLECTION_RECIEVED",payload:o.content}):t(N("N\xe5got gick fel vid h\xe4mting Quiz."));case 10:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},qe=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(a,n){var r,o,i;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=localStorage.getItem("token"))&&"undefined"!==r){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,fetch("https://stark-ocean-61611.herokuapp.com/api/question-collection/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r},body:JSON.stringify(e)});case 5:return o=t.sent,t.next=8,o.json();case 8:(i=t.sent).success?i.content&&(a(Te(i.content)),a(I("Fr\xe5gesamlingen sparades"))):a(N("N\xe5got gick fel vid skapande av Quiz."));case 10:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},Fe=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(a,n){var r,o,i,s;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=localStorage.getItem("token"))&&"undefined"!==r){t.next=3;break}return t.abrupt("return");case 3:return o="https://stark-ocean-61611.herokuapp.com/api/question-collection/update/"+e._id,t.next=6,fetch(o,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r},body:JSON.stringify(e)});case 6:return i=t.sent,t.next=9,i.json();case 9:(s=t.sent).success?s.content?(a(Ie(e)),a(I("Fr\xe5gesamlingen uppdaterades"))):a(N("Inget svar ifr\xe5n databasen")):a(N("N\xe5got gick fel vid uppdaterande av Quiz."));case 11:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},ze=function(e,t){return function(){var t=Object(z.a)(F.a.mark(function t(a,n){var r,o,i,s;return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=localStorage.getItem("token"))&&"undefined"!==r){t.next=3;break}return t.abrupt("return");case 3:return o="https://stark-ocean-61611.herokuapp.com/api/question-collection/delete/"+e,t.next=6,fetch(o,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r}});case 6:return i=t.sent,t.next=9,i.json();case 9:(s=t.sent).success?s.content?(a({type:"COLLECTION_DELETE",payload:s.content}),a(I("Fr\xe5gesamlingen raderades"))):a(N("Fr\xe5gesamlingen existerar inte")):a(N("N\xe5got gick fel vid radering av Quiz."));case 11:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},Le=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).createRoom=function(e){var t=a.props,n=t.dispatch,r=t.history,o=function(){var e=Math.ceil(Date.now()-1539264714045);return new Ae.a("begame").encode(e)}(a.props.auth.name,e._id);if(0===e.numberOfQuestions)return null;var i={roomId:o,quiz:e,currentQuestion:0,createdBy:a.props.auth.name,active:!0,openForAnswer:!1,name:o,created:Date.now()};n(be({history:r,room:i}))},a.createQuiz=function(){a.props.history.push("/admin/collection/")},a.editCollection=function(e){a.props.history.push("/admin/collection/".concat(e))},a.renderCards=function(){var e=a.props,t=e.questionCollections,n=e.classes;return 0===Object.keys(t).length?null:Object.keys(t).map(function(e){var o=t[e];return o.numberOfQuestions=o.questions?Object.keys(o.questions).length:0,r.a.createElement(ce.a,{key:o._id,className:n.card},r.a.createElement(ue.a,null,r.a.createElement(xe.a,{className:n.media,image:o.imgUrl,title:o.title}),r.a.createElement(me.a,null,r.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},o.title),r.a.createElement(C.a,{component:"p"},o.description),r.a.createElement(C.a,{variant:"caption",style:{marginTop:"5px"}},"Fr\xe5gor ",o.numberOfQuestions,"st"))),r.a.createElement(je.a,null,r.a.createElement(O.a,{size:"small",color:"primary",onClick:function(e){a.createRoom(o)}},"Starta"),r.a.createElement(O.a,{size:"small",color:"primary",onClick:function(t){return a.editCollection(e)}},"Redigera")))})},a.state={update:!1};var n=e.collectionFetched,o=e.dispatch,i=e.history;n||o(Ne());var c=JSON.parse(localStorage.getItem("auth"));return c&&c.token&&c.token.length>10?o(D(JSON.parse(localStorage.getItem("auth")))):i.push("/admin"),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.history,o=this.renderCards();return r.a.createElement(n.Fragment,null,r.a.createElement(K,{history:a,adminPanel:!0,auth:this.props.auth}),r.a.createElement("div",{className:"adminpanel"},r.a.createElement(O.a,{variant:"contained",color:"primary",className:t.button,onClick:this.createQuiz},"Skapa quiz"),r.a.createElement("div",null,r.a.createElement("div",{className:"listDiv"},o))))}}]),t}(n.Component);var Re=Object(y.b)(function(e){return{value:e.value,auth:e.auth,questionCollections:e.questionCollections.data,collectionFetched:e.questionCollections.fetched}})(Object(h.withStyles)(function(e){return{input:{display:"none"},card:{maxWidth:345,marginRight:15,marginBottom:15,minWidth:295},media:{height:140},button:{marginBottom:20}}})(Le)),Be=(a(307),a(125)),_e=a.n(Be),Pe=a(129),De=a.n(Pe),Qe=a(127),We=a.n(Qe),Ue=a(128),He=a.n(Ue),Me=a(126),Je=a.n(Me),Ve=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,inputname:"",pw1:"",pw2:""},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleRegister=function(){a.state.pw1.length&&a.state.pw2.length&&a.state.inputname.length?a.state.pw1.length<6?a.props.dispatch(N("L\xf6senordet \xe4r f\xf6r kort")):a.state.pw1!==a.state.pw2?a.props.dispatch(N("L\xf6senorden matchar inte")):(a.setState({open:!1}),fetch("https://stark-ocean-61611.herokuapp.com/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a.state.pw1,name:a.state.inputname})}).then(function(e){return e.json()}).then(function(e){a.props.dispatch(I("Grattis! Konto skapat."))}).catch(function(e){return console.log(e)})):a.props.dispatch(N("Tomma f\xe4lt, v\xe4nligen f\xf6rs\xf6k igen"))},a.handleChange=function(e,t){a.setState(Object(v.a)({},t,e.target.value))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(te,null),r.a.createElement(O.a,{onClick:this.handleClickOpen,size:"small",style:{fontSize:12,color:"#999"}},"Skapa konto"),r.a.createElement(_e.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Je.a,{id:"form-dialog-title"},"Skapa konto"),r.a.createElement(We.a,{style:{width:400,paddingBottom:10}},r.a.createElement(He.a,{style:{fontSize:13,marginBottom:20}},"F\xf6r att kunna skapa ett quiz beh\xf6ver du skapa ett konto."),r.a.createElement(S.a,{onChange:function(t){e.handleChange(t,"inputname")},variant:"outlined",margin:"dense",id:"name",label:"Anv\xe4ndarnamn",type:"email",fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(S.a,{onChange:function(t){e.handleChange(t,"pw1")},variant:"outlined",margin:"dense",id:"pw1",label:"L\xf6senord",type:"password",fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(S.a,{onChange:function(t){e.handleChange(t,"pw2")},variant:"outlined",margin:"dense",id:"pw2",label:"Upprepa l\xf6senord",type:"password",fullWidth:!0,InputLabelProps:{shrink:!0}})),r.a.createElement(De.a,null,r.a.createElement(O.a,{onClick:this.handleClose,color:"secondary"},"Avbryt"),r.a.createElement(O.a,{onClick:this.handleRegister,color:"secondary"},"Registrera"))))}}]),t}(n.Component),Ge=Object(y.b)(function(e){return{value:e.value,snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}})(Object(h.withStyles)(function(e){return{input:{display:"none"},card:{maxWidth:245,marginRight:15,marginBottom:15,minWidth:245},media:{height:140},root:Object(ie.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:250,margin:"auto"}),stepper:Object(ie.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:725,margin:"auto"})}},{withTheme:!0})(Ve)),Ke=a(314),Xe=a(315),Ye=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.validation=function(){var e=a.state,t=e.password,n=e.name,r=a.props.dispatch;n&&t?a.login({name:n,password:t}):r(N("Anv\xe4ndarnamn och l\xf6senord kr\xe4vs."))},a.login=function(e){var t=a.props,n=t.dispatch,r=t.history;n(Q({history:r,user:e}))},a.pressEnterToLogin=function(e){13===e.wich&&a.validation()},a.state={loading:!1,name:"",password:"",jwt:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.history,a=e.dispatch,n=localStorage.getItem("token");JSON.parse(localStorage.getItem("auth"))&&a(D(JSON.parse(localStorage.getItem("auth")))),n&&n.length>10&&(this.setState({jwt:n}),a(D(JSON.parse(localStorage.getItem("auth")))),t.push("/admin/home"))}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.username,n=this.props,o=n.classes,i=n.history;return r.a.createElement("div",null,r.a.createElement(K,{history:i,username:a,isAdmin:!0}),t&&r.a.createElement(T.a,{thickness:2,color:"secondary"}),r.a.createElement("div",{className:o.main},r.a.createElement("img",{src:Xe,alt:"Begame",className:o.logo,width:"250px"}),r.a.createElement(k.a,{className:o.container},r.a.createElement(C.a,{variant:"h6",className:o.welcome},"V\xe4lkommen!"),r.a.createElement(C.a,{variant:"subtitle1",className:o.login},"Logga in med anv\xe4ndarnamn och l\xf6senord"),r.a.createElement("div",{className:o.margin},r.a.createElement(S.a,{type:"text",onChange:this.handleChange("name"),value:this.state.name,id:"input-with-icon-grid1",label:"Anv\xe4ndarnamn",margin:"dense",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(S.a,{type:"password",onChange:this.handleChange("password"),value:this.state.password,id:"input-with-icon-grid2",label:"L\xf6senord",margin:"dense",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(O.a,{style:{marginBottom:20,marginTop:10},variant:"contained",color:"secondary",fullWidth:!0,onClick:this.validation,disabled:t,size:"large"},"Logga in")),r.a.createElement("div",{className:o.margin},r.a.createElement(Ge,null)))),r.a.createElement(C.a,{className:o.copyright},"\xa9 Copyright 2018 | All Rights Reserved | Begame"),r.a.createElement(te,null))}}]),t}(n.Component),$e=Object(b.compose)(Object(h.withStyles)(function(){return{main:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 50px)",alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .9), rgba(0, 0, 0, .9)), url(".concat(Ke,")"),backgroundColor:"#fafafa",backgroundSize:"cover"},container:{padding:40,marginTop:-70,paddingTop:30},margin:{width:350,textAlign:"center"},welcome:{textAlign:"center"},login:{textAlign:"center",marginBottom:20},copyright:{textAlign:"center",fontSize:11,marginTop:-70,color:"#fff"},logo:{marginTop:-100,marginBottom:30,zIndex:1},inputFocused:{width:"40%",borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)",backgroundColor:"#00FF00"}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}}))(Ye),Ze=a(85),et=a.n(Ze),tt=a(67),at=a.n(tt),nt=a(68),rt=a.n(nt),ot=a(130),it=a.n(ot),st=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).renderActiveUsers=function(){var e=a.props,t=e.classes,n=e.users;return n?n.map(function(e){return r.a.createElement(at.a,{className:t.listitem,key:e._id},r.a.createElement(rt.a,{disableTypography:!0,primary:r.a.createElement(C.a,{type:"body2",className:t.userText},e.name),secondary:r.a.createElement(C.a,{type:"body2",className:t.pointsText},e.points)}))}):r.a.createElement("div",null,"User is missing")},a.getNewUserData=function(e){var t=a.props,n=t.dispatch,r=t.roomId;r&&n(_({roomId:r,failMsg:e}))};var n=e.fetched,o=e.dispatch,i=e.roomId;return!n&&i&&o(_({roomId:i,failMsg:!1})),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){e.getNewUserData(!1)},2e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.users,n=e.room,o=n&&n.createdBy,i=this.renderActiveUsers();return r.a.createElement("div",{className:t.root},r.a.createElement(et.a,null,r.a.createElement(at.a,{className:t.listitem},r.a.createElement(it.a,{className:t.rightIcon}),r.a.createElement(rt.a,{disableTypography:!0,primary:r.a.createElement(C.a,{type:"body2",className:t.onlineText},a.length||0)})),r.a.createElement(at.a,{className:t.listitem},r.a.createElement(rt.a,{disableTypography:!0,primary:r.a.createElement(C.a,{type:"body2",className:t.userText},o),secondary:r.a.createElement(C.a,{type:"body2",className:t.pointsText},"GAME MASTER")})),i))}}]),t}(n.Component),ct=Object(y.b)(function(e){return{users:e.users.data,fetched:e.users.fetched,room:e.activeRoom.data}})(Object(h.withStyles)(function(e){return{root:{width:"100%",maxWidth:250,height:"95vh",backgroundColor:"#512DA8",float:"left"},userText:{color:"#FAFAFA",fontSize:"1rem",fontWeight:"400"},pointsText:{color:"#FAFAFA",fontWeight:"400"},onlineText:{color:"#FAFAFA",fontWeight:"bolder",fontSize:15},rightIcon:{color:"#FAFAFA"},listitem:{paddingTop:0}}})(st)),lt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={completed:0,time:10,currentTime:0,inProgress:!1,lockStart:!1,showEndTime:!1,reseted:!1,open:!0},a.progress=function(){var e=a.state,t=e.completed,n=e.time,r=e.currentTime;r+=1,(t+=100/n)>100?(a.setState({completed:0,inProgress:!1,currentTime:0,lockStart:!1,showEndTime:!0,open:!0,reseted:!1}),clearInterval(a.timer),a.props.questionOpenForAnswer(!1),a.props.showRightAnswer(!0)):a.setState({completed:t,currentTime:r,inProgress:!0})},a.handleChange=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.start=function(){var e=a.state,t=e.lockStart,n=e.inProgress,r=e.reseted;t||(n||r||(a.props.questionOpenForAnswer(!0),a.props.showRightAnswer(!1),a.props.nextQuest()),a.setState({lockStart:!0,showEndTime:!1},function(){a.timer=setInterval(a.progress,1e3)}))},a.stop=function(){a.setState({lockStart:!1}),clearInterval(a.timer)},a.clearTimer=function(){clearInterval(a.timer),a.setState({completed:0,inProgress:!1,currentTime:0,lockStart:!1,showEndTime:!1,reseted:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.inProgress,n=t.lockStart;return r.a.createElement("div",null,r.a.createElement("div",{className:e.root},r.a.createElement(T.a,{variant:"determinate",value:this.state.completed})),r.a.createElement("div",{className:e.wrapperButtons},!n&&r.a.createElement(O.a,{variant:"contained",color:"primary",className:e.button,onClick:this.start},a?"Forts\xe4tt":"Start"),n&&r.a.createElement(O.a,{variant:"contained",color:"primary",className:e.button,onClick:this.stop},"Stopp"),r.a.createElement(O.a,{color:"primary",variant:"outlined",className:e.button,onClick:this.clearTimer},"\xc5terst\xe4ll"),a&&r.a.createElement(S.a,{id:"outlined-number",label:"Tid i sekunder",value:this.state.time-this.state.currentTime,type:"number",className:e.textField,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),!a&&r.a.createElement(S.a,{id:"outlined-number",label:"Tid i sekunder",value:this.state.time,onChange:this.handleChange("time"),type:"number",className:e.textField,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"})))}}]),t}(n.Component),ut=Object(h.withStyles)(function(e){return{root:{flexGrow:1,marginBottom:20},textField:{marginTop:3,maxHeight:50,marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:100},button:{marginTop:2,maxHeight:50,width:100,marginLeft:e.spacing.unit,marginRight:e.spacing.unit},wrapperButtons:{marginTop:10,display:"flex",justifyContent:"auto",alignItem:"center",flexDirection:"row"},wrapperChip:{display:"flex",alignItems:"center",marginLeft:"100"}}})(lt),pt=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).selectedAnswer=function(e,t){e===t?console.log("R\xe4tt svar!"):console.log("Fel svar!")},a.createAnswerButtons=function(e,t){var o=a.props.classes,i=a.state.rightAnswer,s=["a","b","c","d"];return Object.values(e).map(function(e,c){return r.a.createElement(n.Fragment,{key:c},r.a.createElement(ce.a,{className:i===s[c]?o.cardRight:o.card,onClick:function(){return a.selectedAnswer(s[c],t)},raised:a.state.selectedA},r.a.createElement(ue.a,{className:o.cardAction},r.a.createElement(me.a,null,r.a.createElement(J.a,{className:o.orangeAvatar},s[c].toUpperCase()),r.a.createElement(C.a,{component:"p"},e)))))})},a.renderQuestion=function(){var e=a.props,t=e.room,o=e.classes,i=((t||!1).quiz||!1).questions,s=t&&t.quiz&&t.quiz.title,c=t&&t.quiz&&t.quiz.description;if(!i)return r.a.createElement(k.a,{className:o.root,elevation:1},r.a.createElement(C.a,{variant:"h5",component:"h3"},s),r.a.createElement(C.a,{component:"p"},c));var l=t&&t.currentQuestion;if(0===l)return r.a.createElement(k.a,{className:o.root,elevation:1},r.a.createElement(C.a,{variant:"h5",component:"h3"},s),r.a.createElement(C.a,{component:"p"},c));if(-1===l){if(a.state.showTimer)return r.a.createElement("div",null,r.a.createElement(C.a,{variant:"h3",gutterBottom:!0},"SLUT"))}else a.state.showTimer;var u=Object.values(i).filter(function(e){return e.order===l})[0],p=a.createAnswerButtons(u.answers,u.correctAnswer);return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{style:{fontSize:"3.5em",color:"#573697",fontWeight:"bold",marginBottom:100}},u.question),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:50,flexWrap:"wrap"}},p))},a.nextQuestion=function(){var e=a.props.room._id,t=a.props.room,n=t.currentQuestion,r=t.quiz;n+=1,Object.keys(r.questions).length<n&&(n=-1);var o={roomIdInDb:e,update:{currentQuestion:n}};a.props.dispatch(Ee(o))},a.questionOpenForAnswer=function(e){var t=a.props.dispatch,n=a.props.room._id;t(Ee({update:{openForAnswer:e},roomIdInDb:n}))},a.showRightAnswer=function(e){if(e){var t=a.props.room,n=t.currentQuestion,r=t.quiz.questions,o=Object.values(r).filter(function(e){return e.order===n})[0].correctAnswer;a.setState({rightAnswer:o})}else a.setState({rightAnswer:null})},a.showTimer=function(){var e=a.props.room,t=e&&e.currentQuestion?e.currentQuestion:0;return 0===t||-1!==t},a.state={id:e.match.params.id,showTimer:!0,rightAnswer:null};var o=e.match&&e.match.params&&e.match.params.id||!1;return o&&e.dispatch(ye(o)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.dispatch)(I("V\xe4lkommen till rum ".concat(this.state.id)))}},{key:"render",value:function(){var e=this.props.history,t=this.renderQuestion(),a=this.showTimer();return r.a.createElement(n.Fragment,null,r.a.createElement(K,{roomId:this.state.id,history:e}),r.a.createElement(ct,{roomId:this.state.id}),r.a.createElement("div",{style:{width:800,height:300,margin:"100px auto",textAlign:"center"}},t,a&&r.a.createElement(ut,{nextQuest:this.nextQuestion,questionOpenForAnswer:this.questionOpenForAnswer,showRightAnswer:this.showRightAnswer})),r.a.createElement(te,null))}}]),t}(n.Component),mt=Object(b.compose)(Object(h.withStyles)(function(e){return{root:Object(ie.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:450,margin:"50px auto"}),card:{maxWidth:380,marginBottom:30},cardRight:{maxWidth:380,marginBottom:30,backgroundColor:"#a1c45a"},cardAction:{width:350,maxWidth:380},orangeAvatar:{color:"#fff",backgroundColor:"#573697",margin:"0px auto",marginBottom:10}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message,room:e.activeRoom.data,fetched:e.activeRoom.fetched}}))(pt),dt=a(131),ht=a.n(dt),gt=a(132),ft=a.n(gt),vt=a(133),bt=a.n(vt),yt=["a","b","c","d"],Et=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e,t,n){var r=e.target.value;if("answers"===t){var o=a.state.answers;o[n]=r,a.setState({answers:o})}else"question"===t&&a.setState({question:r})},a.renderAnswer=function(){var e=a.state.answers,t=a.props.classes;return Object.keys(e).map(function(e){return r.a.createElement("div",{key:e,className:t.textFieldDiv},r.a.createElement(S.a,{id:"outlined-name",label:e,className:t.textFieldWithButton,value:a.state.answers[e],onChange:function(t){return a.handleChange(t,"answers",e)},margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}}),r.a.createElement(O.a,{variant:"contained",size:"medium",color:a.state.correctAnswer===e?"secondary":"primary",className:t.textFieldButton,onClick:function(){return a.setCorrectAnswer(e)}},"R\xe4tt svar"))})},a.setCorrectAnswer=function(e){a.setState({correctAnswer:e})},a.saveQuestion=function(){var e=a.props.dispatch,t=!0;for(var n in a.state.question.length<4&&"string"!==typeof a.state.question&&(t=!1),a.state.answers)0===a.state.answers[n].length&&(t=!1);a.state.correctAnswer||(t=!1),t?(e(I("Du la till en fr\xe5ga")),a.props.addQuestion(Object(ie.a)({},a.state,{answers:Object(ie.a)({},a.state.answers)})),a.setState({question:"",answers:{a:"",b:""},correctAnswer:null})):e(N("Fr\xe5gan uppfyller inte kraven."))},a.changeAnswersOption=function(e){var t=Object(ie.a)({},a.state).answers,n=Object.keys(t).length;e&&n<Object.keys(yt).length?(t[yt[n]]="",a.setState({answers:t})):!e&&n>2&&(delete t[yt[n-1]],a.setState({answers:t}))},a.state={question:"",answers:{a:"",b:""},correctAnswer:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.renderAnswer();return r.a.createElement(k.a,{style:{width:600,padding:20,margin:"0px auto"}},r.a.createElement(C.a,{variant:"h5",gutterBottom:!0},"L\xe4gg till fr\xe5ga"),r.a.createElement(S.a,{id:"outlined-name",label:"Fr\xe5ga",value:this.state.question,onChange:function(t){return e.handleChange(t,"question")},margin:"normal",variant:"outlined",multiline:!0,fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13}}}),a,r.a.createElement("div",{style:{marginTop:20}},r.a.createElement(O.a,{variant:"outlined",color:"secondary",size:"small",className:t.button,onClick:function(){return e.changeAnswersOption(!0)}},"L\xe4gg till svarsalternativ"),r.a.createElement(O.a,{variant:"outlined",color:"secondary",size:"small",className:t.button,onClick:function(){return e.changeAnswersOption(!1)}},"Ta bort svarsalternativ"),r.a.createElement(O.a,{variant:"outlined",color:"primary",size:"small",className:t.button,onClick:this.saveQuestion},"Spara fr\xe5gan")))}}]),t}(n.Component),Ot=Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}})(Object(h.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"90%"},textFieldWithButton:{width:"75%"},textFieldDiv:{width:"103%"},textFieldButton:{margin:"20px 20px"},button:{marginRight:15}}})(Et)),wt=4,kt=4,jt=4,Ct=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChangeQuestions=function(e,t,n){if(void 0!==e.target.value){var r=a.state.questions;"correctAnswer"===n?r[t][n]=e.target.value:r[t].answers[n]=e.target.value,a.setState({questions:r})}},a.handleChange=function(e,t){void 0!==e.target.value&&a.setState(Object(v.a)({},t,e.target.value))},a.addQuestion=function(e){var t=a.props.dispatch,n=new Ae.a(e.question).encode(Math.ceil(1e3*Math.random()));if(a.setState({questions:Object(ie.a)({},a.state.questions,Object(v.a)({},n,e))}),!a.state.new_quiz){var r=a.props.match&&a.props.match.params&&a.props.match.params.id,o=a.props.questionCollections[r];o.questions=o.questions?o.questions:{},o.questions[e.question]=e,t(Ie(o))}},a.saveQuiz=function(){var e=a.props.dispatch,t=Object(ie.a)({},a.state,{title:a.state.title,description:a.state.description,imgUrl:a.state.imgUrl,questions:a.state.questions,category:"Temporary"}),n=1;for(var r in t.questions)t.questions[r].order=n,n++;!function(e){var t=e.title,a=e.description,n=e.imgUrl;return!!(t&&a&&n)&&!(t.length<wt||a.length<kt||n.length<jt)}(t)?e(N("Fr\xe5gesamlingen uppfyller inte alla krav!")):a.state.new_quiz?e(qe(t)):e(Fe(t))},a.removeQuiz=function(){(0,a.props.dispatch)(ze(a.state._id))},a.removeQuestion=function(e){var t=a.props.dispatch;if(a.state.new_quiz){var n=Object(ie.a)({},a.state.questions);delete n[e],a.setState({questions:n})}else{var r=a.props.match&&a.props.match.params&&a.props.match.params.id,o=a.props.questionCollections[r];delete o.questions[e],t(Ie(o))}},a.renderTableView=function(){var e=a.props.questionCollections,t=a.props.match&&a.props.match.params&&a.props.match.params.id,n=!1;if(a.state._id){if(0===Object.keys(e).length||!t)return null}else n=!0;var o=(n?a.state:e[t]).questions;return o?Object.keys(o).map(function(e,t){var n=o[e];return r.a.createElement(ht.a,{key:t,style:{width:640,marginLeft:-20}},r.a.createElement(ft.a,null,r.a.createElement("div",{id:"expPanel"},r.a.createElement(C.a,null,n.question)),r.a.createElement(O.a,{style:{paddingRight:0},variant:"outlined",color:"secondary",onClick:function(t){return a.removeQuestion(e)}},r.a.createElement("p",{style:{paddingRight:15}},"Ta bort"))),r.a.createElement(bt.a,null,r.a.createElement("div",null,Object.keys(o[e].answers).map(function(t){return r.a.createElement(S.a,{key:t,id:"standard-full-width",label:t,value:o[e].answers[t],style:{margin:8},placeholder:"Placeholder",fullWidth:!0,margin:"normal",onChange:function(n){return a.handleChangeQuestions(n,e,t)},InputLabelProps:{shrink:!0}})}),r.a.createElement(S.a,{id:"standard-full-width",label:"correctAnswer",value:o[e].correctAnswer,style:{margin:8},placeholder:"R\xe4tt svar",fullWidth:!0,margin:"normal",onChange:function(t){return a.handleChangeQuestions(t,e,"correctAnswer")},InputLabelProps:{shrink:!0}}))))}):"Inga fr\xe5gor finns i samlingen"},a.state={_id:null,isLoaded:!1,questions:{},imgUrl:"",description:"",new_quiz:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,o=t.imgUrl,i=t.description,s=this.props,c=s.classes,l=s.history,u=this.renderTableView();return r.a.createElement(n.Fragment,null,r.a.createElement(K,{history:l,createQuiz:!0}),r.a.createElement("div",{style:{float:"right",marginTop:10}},r.a.createElement(O.a,{variant:"contained",color:"primary",className:c.button,onClick:this.saveQuiz},"Spara Quiz"),!this.state.new_quiz&&r.a.createElement(O.a,{variant:"contained",color:"secondary",className:c.button,onClick:this.removeQuiz},"Ta bort Quiz")),r.a.createElement("div",{className:c.root},r.a.createElement(k.a,{className:c.paper},r.a.createElement(C.a,{variant:"h5",gutterBottom:!0},"Skapa quiz"),r.a.createElement(S.a,{id:"outlined-name",label:"Title",className:c.textField,value:a,onChange:function(t){return e.handleChange(t,"title")},margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}}),r.a.createElement("br",null),r.a.createElement(S.a,{id:"outlined-name",label:"Beskrivning",value:i,className:c.textField,onChange:function(t){return e.handleChange(t,"description")},margin:"normal",variant:"outlined",multiline:!0,fullWidth:!0,rows:2,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13}}}),r.a.createElement("br",null),r.a.createElement(S.a,{id:"outlined-name",label:"Bild url",value:o,className:c.textField,onChange:function(t){return e.handleChange(t,"imgUrl")},margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{src:o,alt:"Bild Saknas",height:"300",width:"auto",style:{margin:50}})))),r.a.createElement(Ot,{dispatch:this.props.dispatch,addQuestion:this.addQuestion}),r.a.createElement(te,null),r.a.createElement(k.a,{style:{width:600,margin:"20px auto",padding:20,marginBottom:"500px"}},r.a.createElement(C.a,{variant:"h5",gutterBottom:!0},"Fr\xe5gor"),u))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.questionCollections,n=t.isLoaded,r=e.match&&e.match.params&&e.match.params.id;if(r&&Object.keys(a).length>0&&!n){var o=a[r];return{questions:o.questions,imgUrl:o.imgUrl,title:o.title,description:o.description,_id:o._id,isLoaded:!0,new_quiz:!1}}return null}}]),t}(n.Component);var xt=Object(y.b)(function(e){return{fetched:e.users.fetched,users:e.users.data,questionCollections:e.questionCollections.data}})(Object(h.withStyles)(function(e){return{root:{},expand:{width:"calc(100% - 68px)",marginLeft:10},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},contentWrapper:{display:"flex",flexDirection:"column"},button:{margin:10},removeButtonDiv:{border:"1px solid #e67575",borderRadius:5,display:"inline-block"},paper:{width:600,padding:20,marginBottom:20,marginTop:20,margin:"0px auto"},expPanel:{color:"red",justifyContent:"space-between"}}})(Ct)),St=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e));var n=e.dispatch,r=e.history;return n({type:"USER_LOGOUT"}),r.push("/"),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return null}}]),t}(n.Component),At=Object(y.b)(function(e){return{value:e.value}})(St),Tt=Object(h.createMuiTheme)({palette:f()({primary:{light:"#5E35B1",main:"#512DA8",dark:"#4527A0",contrastText:"#fff"},secondary:{light:"#FF9800",main:"#FB8C00",dark:"#F57C00",contrastText:"#fff"}}),overrides:{MuiDialog:{paperScrollPaper:{overflowY:"visible"}}},typography:{useNextVariants:!0}}),It=function(){return r.a.createElement(h.MuiThemeProvider,{theme:Tt},r.a.createElement(m.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:oe}),r.a.createElement(d.a,{exact:!0,path:"/room/:id",component:we}),r.a.createElement(d.a,{exact:!0,path:"/admin/",component:$e}),r.a.createElement(d.a,{exact:!0,path:"/admin/settings",component:Re}),r.a.createElement(d.a,{exact:!0,path:"/admin/collection",component:xt}),r.a.createElement(d.a,{exact:!0,path:"/admin/collection/:id",component:xt}),r.a.createElement(d.a,{exact:!0,path:"/admin/users",component:ct}),r.a.createElement(d.a,{exact:!0,path:"/admin/home/",component:Re}),r.a.createElement(d.a,{exact:!0,path:"/project/:id",component:mt}),r.a.createElement(d.a,{exact:!0,path:"/logout",component:At}),r.a.createElement(d.a,{exact:!0,path:"/timer",component:ut})))},Nt=(a(326),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(It,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qt=a(135),Ft=a(136),zt="ADD_TO_VALUE_EXAMPLE",Lt={title:null};var Rt={message:"Initial message",error:!1,snackbarOpen:!1};var Bt={fetched:!1,data:[]},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECIVED_ALL_USER":return Object(ie.a)({},e,{data:t.payload,fetched:!0});default:return e}},Pt={fetched:!1,name:"",token:null};var Dt=a(69),Qt={fetched:!1,data:[]};var Wt="ROOM_RECIVED",Ut={fetched:!1,timer:{started:!1,stoped:!1,ended:!1}};var Ht="UPDATE_USER",Mt="UPDATE_POINTS",Jt={fetched:!1,data:{}};var Vt=Object(b.combineReducers)({editQuiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zt:return Object(ie.a)({},e,{title:t.payload});default:return e}},errorHandling:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_SNACKBAR_MESSAGE":return Object(ie.a)({},e,{error:!1,snackbarOpen:!0,message:t.payload});case"SHOW_SNACKBAR_ERROR":return Object(ie.a)({},e,{error:!0,snackbarOpen:!0,message:t.payload});case"CLOSE_FEEDBACK":return Object(ie.a)({},e,{snackbarOpen:!1,dialogOpen:!1});default:return e}},users:_t,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_RECEIVED":return t?(t.payload.token&&localStorage.setItem("token",t.payload.token),localStorage.setItem("auth",JSON.stringify(t.payload)),Object(ie.a)({},e,{fetched:!0,name:t.payload.name,token:t.payload.token})):e;case"TOKEN_RECIEVED":return Object(ie.a)({},e,{fetched:!0,token:t.payload});case"USER_LOGOUT":return localStorage.removeItem("token"),localStorage.removeItem("auth"),Object(ie.a)({},e,{fetched:!0,token:null,user:null});default:return e}},questionCollections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COLLECTION_RECIEVED":return Object(ie.a)({},e,{fetched:!0,data:t.payload});case"COLLECTION_ADD":return Object(ie.a)({},e,{data:Object(Dt.a)(e.data).concat([t.payload])});case"COLLECTION_UPDATE":var a=e.data.findIndex(function(e){return e._id===t.payload._id});return Object(ie.a)({},e,{data:Object(Dt.a)(e.data.slice(0,a)).concat([t.payload],Object(Dt.a)(e.data.slice(a+1)))});case"COLLECTION_DELETE":return Object(ie.a)({},e,{data:e.data.filter(function(e){return e._id!==t.payload._id})});default:return e}},activeRoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt:return Object(ie.a)({},e,{data:t.payload,fetched:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ht:return localStorage.setItem("student",JSON.stringify(t.payload)),Object(ie.a)({},e,{data:t.payload,fetched:!0});case Mt:var a=JSON.parse(localStorage.getItem("student"));a.points=t.payload.points,localStorage.setItem("student",JSON.stringify(a));var n=Object(ie.a)({},e);return n.data.points=t.payload.points,n;default:return e}}}),Gt=Object(b.createStore)(Vt,{},Object(Ft.composeWithDevTools)(Object(b.applyMiddleware)(qt.a))),Kt=a(330);i.a.render(r.a.createElement(y.a,{store:Gt},r.a.createElement(Kt.a,{basename:"/begame/"},r.a.createElement(Nt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[138,2,1]]]);
//# sourceMappingURL=main.3f9adcf3.chunk.js.map