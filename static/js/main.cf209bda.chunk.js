(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,a){e.exports=a.p+"static/media/logo.32d04031.png"},134:function(e,t,a){e.exports=a(322)},139:function(e,t,a){},232:function(e,t,a){e.exports=a.p+"static/media/background_pleb.c1f2d75c.jpg"},291:function(e,t,a){},295:function(e,t,a){},302:function(e,t,a){e.exports=a.p+"static/media/background_gm.715f0db7.jpg"},320:function(e,t,a){},322:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),i=a.n(o),s=(a(139),a(17)),c=a(18),l=a(21),u=a(19),p=a(22),m=a(325),d=a(326),h=a(20),g=a(85),f=a.n(g),v=a(32),b=a(26),y=a(24),E=a(9),O=a.n(E),k=a(28),w=a.n(k),j=a(11),C=a.n(j),S=a(25),x=a.n(S),A=a(40),T=a.n(A);function N(e){return{type:"SHOW_SNACKBAR_MESSAGE",payload:e}}function I(e){return{type:"SHOW_SNACKBAR_ERROR",payload:e}}var q=a(23),z=a.n(q),L=a(29);function F(e){return{type:"UPDATE_USER",payload:e}}function _(e){return{type:"RECIVED_ALL_USER",payload:e}}function R(e){return{type:"UPDATE_POINTS",payload:e}}var B=function(e,t){return function(){var t=Object(L.a)(z.a.mark(function t(a,n){var r,o,i;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.roomId,t.next=3,fetch("https://stark-ocean-61611.herokuapp.com/api/activeUsers/".concat(r),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return o=t.sent,t.next=6,o.json();case 6:(i=t.sent).success?a(_(i.content)):a(I("N\xe5got gick fel vid h\xe4mtning av anv\xe4ndare."));case 8:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},P=function(e,t){return function(){var t=Object(L.a)(z.a.mark(function t(a,n){var r,o,i;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.uid,o=e.points,t.next=3,fetch("https://stark-ocean-61611.herokuapp.com/api/activeUsers/edit/".concat(r),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({points:o})});case 3:return i=t.sent,t.next=6,i.json();case 6:t.sent.success?a(R({points:o})):a(I("Fel anv\xe4ndarnamn eller l\xf6senord."));case 8:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()};function D(e){return{type:"AUTH_RECEIVED",payload:e}}var W=function(e,t){return function(){var t=Object(L.a)(z.a.mark(function t(a,n){var r,o,i,s,c,l,u;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.history,o=e.user,i=o.name,s=o.password,t.next=4,fetch("https://stark-ocean-61611.herokuapp.com/api/authenticate",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:i,password:s})});case 4:return c=t.sent,t.next=7,c.json();case 7:(l=t.sent).success?(u={name:i,token:l.content.token},a(D(u)),r.push("/admin/home")):a(I("Fel anv\xe4ndarnamn eller l\xf6senord."));case 9:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},U=function(e,t){return function(){var t=Object(L.a)(z.a.mark(function t(a,n){var r,o,i,s,c,l;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.history,o=e.username,i=e.roomId,t.next=3,fetch("https://stark-ocean-61611.herokuapp.com/api/activeUsers/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:o,points:0,roomId:i})});case 3:return s=t.sent,t.next=6,s.json();case 6:(c=t.sent).success?(l={name:o,token:c.content.token,uid:c.content._id,points:0},a(F(l)),r.push("/room/".concat(i))):a(I("Fel anv\xe4ndarnamn eller l\xf6senord."));case 8:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},Q=a(120),H=a.n(Q),J=a(121),V=a.n(J);var M=Object(h.withStyles)({root:{flexGrow:1,zIndex:100},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},appHeight:{minHeight:50},roomStyleText:{fontWeight:500}})(function(e){var t=e.classes,a=e.history,n=e.roomId,o=e.isAdmin,i=e.adminPanel,s=e.auth,c=e.createQuiz,l="primary";return o&&(l="secondary"),r.a.createElement("div",{className:t.root},r.a.createElement(H.a,{position:"static",color:l},r.a.createElement(V.a,{className:t.appHeight},r.a.createElement("div",{className:t.grow,color:"inherit"},n&&r.a.createElement("p",{className:t.roomStyleText},"ROOMID #".concat(n)),i&&s&&r.a.createElement("p",{className:t.roomStyleText},"GM ",s.name)),!n&&o&&r.a.createElement(O.a,{color:"inherit",onClick:function(){a.push("/")}},"Student"),!n&&!o&&!i&&!c&&r.a.createElement(O.a,{color:"inherit",onClick:function(){a.push("/admin")}},"Admin"),n&&r.a.createElement(O.a,{color:"inherit",onClick:function(){a.push("/logout")}},"LOGGA UT"),c&&r.a.createElement(O.a,{color:"inherit",onClick:function(){a.goBack()}},"Go back"),i&&s&&r.a.createElement("div",null,r.a.createElement(O.a,{color:"inherit",onClick:function(){a.push("/logout")}},"Logga ut")))))}),G=a(122),K=a.n(G),X=a(86),Y={error:{background:a.n(X).a[500]},success:{background:"#333",color:"#FAFAFA"}},$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(){a.props.dispatch({type:"CLOSE_FEEDBACK"})},a.renderSnackbar=function(){return r.a.createElement(K.a,{open:a.props.snackbarOpen,message:a.props.message,autoHideDuration:3e3,onClose:a.handleClose,ContentProps:{classes:{root:a.props.error?a.props.classes.error:a.props.classes.success}}})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,this.renderSnackbar())}}]),t}(r.a.Component),Z=Object(b.compose)(Object(h.withStyles)(Y),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}}))($),ee=a(232),te=a(103),ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.validation=function(){var e=a.state,t=e.username,n=e.roomId,r=a.props.dispatch;t&&n?a.login(t,n):r(I("Anv\xe4ndarnamn eller ID \xe4r felaktigt."))},a.login=function(e,t){var n=a.props,r=n.history;(0,n.dispatch)(U({history:r,username:e,roomId:t}))},a.state={loading:!1,username:"",roomId:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loading,a=e.username,n=this.props,o=n.classes,i=n.history;return r.a.createElement("div",null,r.a.createElement(M,{history:i,username:a}),t&&r.a.createElement(T.a,{thickness:2,color:"primary"}),r.a.createElement("div",{className:o.main},r.a.createElement("img",{src:te,alt:"Begame",className:o.logo,width:"250px"}),r.a.createElement(w.a,{className:o.container},r.a.createElement(C.a,{variant:"h6",className:o.welcome},"V\xe4lkommen!"),r.a.createElement(C.a,{variant:"subtitle1",className:o.login},"Logga in med anv\xe4ndarnamn och #ID"),r.a.createElement("div",{className:o.margin},r.a.createElement(x.a,{type:"text",onChange:this.handleChange("username"),id:"input-with-icon-grid",label:"Anv\xe4ndarnamn",margin:"dense",variant:"outlined",fullWidth:!0,autoFocus:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(x.a,{type:"text",onChange:this.handleChange("roomId"),id:"input-with-icon-grid2",label:"#ID",margin:"dense",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(O.a,{style:{marginBottom:20,marginTop:10},variant:"contained",color:"primary",fullWidth:!0,onClick:this.validation,disabled:t,size:"large"},"Logga in")))),r.a.createElement(C.a,{className:o.copyright},"\xa9 Copyright 2018 | All Rights Reserved | Begame"),r.a.createElement(Z,null))}}]),t}(n.Component),ne=Object(b.compose)(Object(h.withStyles)(function(){return{main:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 50px)",alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .9), rgba(0, 0, 0, .9)), url(".concat(ee,")"),backgroundColor:"#fafafa",backgroundSize:"cover"},container:{padding:40,marginTop:-70,paddingTop:30},margin:{width:350},welcome:{textAlign:"center"},login:{textAlign:"center",marginBottom:20},copyright:{textAlign:"center",fontSize:11,marginTop:-70,color:"#fff"},logo:{marginTop:-100,marginBottom:30,zIndex:1}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}}))(ae),re=a(10),oe=a(41),ie=a.n(oe),se=a(42),ce=a.n(se),le=a(43),ue=a.n(le),pe=a(64),me=a.n(pe);function de(e){return{type:"ROOM_RECIVED",payload:e}}var he=function(e,t){return function(){var t=Object(L.a)(z.a.mark(function t(a,n){var r,o,i,s,c;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.history,o=e.room,(i=localStorage.getItem("token"))&&"undefined"!==i){t.next=5;break}return console.log("No token specified. No data to retrieve for you."),t.abrupt("return");case 5:return t.next=7,fetch("https://stark-ocean-61611.herokuapp.com/api/rooms/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:i},body:JSON.stringify(o)});case 7:return s=t.sent,t.next=10,s.json();case 10:(c=t.sent).success?(a(de(c.content)),r.push("/project/"+c.content.roomId)):console.log(c);case 12:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},ge=function(e,t){return function(){var t=Object(L.a)(z.a.mark(function t(a,n){var r,o;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://stark-ocean-61611.herokuapp.com/api/rooms/".concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return r=t.sent,t.next=5,r.json();case 5:(o=t.sent).success?a(de(o.content[0])):console.log(o);case 7:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},fe=function(e,t){return function(){var t=Object(L.a)(z.a.mark(function t(a,n){var r,o,i,s;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("token"),o=e.roomIdInDb,r&&"undefined"!==r){t.next=5;break}return console.log("No token specified. No data to retrieve for you."),t.abrupt("return");case 5:return t.next=7,fetch("https://stark-ocean-61611.herokuapp.com/api/rooms/edit/".concat(o),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r},body:JSON.stringify(e.update)});case 7:return i=t.sent,t.next=10,i.json();case 10:(s=t.sent).success?a(de(s.content)):console.log(s);case 12:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},ve=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).selectedAnswer=function(e,t,n){var r=a.props.match.params.id,o=a.props.dispatch,i=e===t,s=JSON.parse(localStorage.getItem("student"));if(s.lastQuestion===n)return console.log("You trying to cheat?!"),null;s.lastQuestion=n,localStorage.setItem("student",JSON.stringify(s)),i?(console.log("r\xe4tt svar!"),o(ge(r)).then(function(){if(a.props.room.openForAnswer){console.log("question is open! :)");var e=a.props.user,t=e.points,n=e.uid;o(P({uid:n,points:t+=10})).then(function(){a.setState({rightAnswer:!0,questionClosed:!0})})}else console.log("qusetion is closed :(")})):(a.setState({rightAnswer:!1,questionClosed:!0}),console.log("fel svar!"))},a.createAnswerButtons=function(e,t,o){var i=a.props.classes,s=["a","b","c","d","e","f","g","h"];return Object.values(e).map(function(e,c){return r.a.createElement(n.Fragment,{key:c},r.a.createElement(ie.a,{className:i.card,onClick:function(){return a.selectedAnswer(s[c],t,o)}},r.a.createElement(ce.a,{className:i.cardAction},r.a.createElement(ue.a,null,r.a.createElement(me.a,{className:i.orangeAvatar},s[c].toUpperCase()),r.a.createElement(C.a,{component:"p"},e)))))})},a.renderQuestion=function(){var e=a.props.room,t=((e||!1).quiz||!1).questions;if(!t)return r.a.createElement("div",null,"Ej startad \xe4nnu");var o=e&&e.currentQuestion;if(0===o)return r.a.createElement("div",null,"Ej startad \xe4nnu");if(-1===o)return r.a.createElement("div",null,"SLUT");var i=Object.values(t).filter(function(e){return e.order===o})[0],s=a.createAnswerButtons(i.answers,i.correctAnswer,o);return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{style:{fontSize:"3.5em",color:"#a7d129",fontWeight:"bold",marginBottom:100}},i.question),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:50,flexWrap:"wrap"}},s))},a.updateQuiz=function(){var e=a.props.room.currentQuestion;a.props.dispatch(ge(a.state.id)).then(function(){e!==a.props.room.currentQuestion&&a.setState({questionClosed:!1})})},a.state={id:e.match.params.id,rightAnswer:null,questionClosed:!1};var o=JSON.parse(localStorage.getItem("student"));o&&(e.dispatch(F(o)),e.dispatch(D(o)));var i=e.match&&e.match.params&&e.match.params.id||!1;return e.dispatch(ge(i)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.dispatch)(N("V\xe4lkommen till rum #".concat(this.state.id)))}},{key:"render",value:function(){var e=this.props,t=e.history,a=e.classes,o=e.user,i=o&&o.points?o.points:0,s=this.renderQuestion();return r.a.createElement(n.Fragment,null,r.a.createElement(M,{roomId:this.state.id,history:t}),"score: ",i,r.a.createElement("div",{style:{width:800,height:300,margin:"100px auto",textAlign:"center"}},s,r.a.createElement(O.a,{variant:"contained",className:a.button,onClick:this.updateQuiz,color:"primary"},"Uppdatera quiz g\xe5 till n\xe4sta fr\xe5ga")),r.a.createElement(Z,null))}}]),t}(n.Component),be=Object(b.compose)(Object(h.withStyles)(function(e){return{root:Object(re.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:450,margin:"50px auto"}),card:{maxWidth:380,marginBottom:30},cardAction:{width:350,maxWidth:380},orangeAvatar:{color:"#fff",backgroundColor:"#a7d129",margin:"0px auto",marginBottom:10},button:{margin:e.spacing.unit}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message,room:e.activeRoom.data,fetched:e.activeRoom.fetched,user:e.user.data}}))(ve),ye=(a(291),a(125)),Ee=a.n(ye),Oe=a(124),ke=a.n(Oe),we=a(123),je=a.n(we);function Ce(e){return{type:"COLLECTION_ADD",payload:e}}function Se(e){return{type:"COLLECTION_UPDATE",payload:e}}var xe=function(e){return function(){var e=Object(L.a)(z.a.mark(function e(t,a){var n,r,o;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=localStorage.getItem("token"))&&"undefined"!==n){e.next=4;break}return console.log("No token specified. No data to retrieve for you."),e.abrupt("return");case 4:return e.next=6,fetch("https://stark-ocean-61611.herokuapp.com/api/question-collection",{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:n}});case 6:return r=e.sent,e.next=9,r.json();case 9:(o=e.sent).success?t({type:"COLLECTION_RECIEVED",payload:o.content}):t(I("N\xe5got gick fel vid h\xe4mting Quiz."));case 11:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},Ae=function(e,t){return function(){var t=Object(L.a)(z.a.mark(function t(a,n){var r,o,i;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=localStorage.getItem("token"))&&"undefined"!==r){t.next=4;break}return console.log("No token specified."),t.abrupt("return");case 4:return t.next=6,fetch("https://stark-ocean-61611.herokuapp.com/api/question-collection/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r},body:JSON.stringify(e)});case 6:return o=t.sent,t.next=9,o.json();case 9:(i=t.sent).success?i.content&&(a(Ce(i.content)),a(N("Fr\xe5gesamlingen sparades"))):a(I("N\xe5got gick fel vid skapande av Quiz."));case 11:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},Te=function(e,t){return function(){var t=Object(L.a)(z.a.mark(function t(a,n){var r,o,i,s;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=localStorage.getItem("token"))&&"undefined"!==r){t.next=4;break}return console.log("No token specified."),t.abrupt("return");case 4:return o="https://stark-ocean-61611.herokuapp.com/api/question-collection/update/"+e._id,t.next=7,fetch(o,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r},body:JSON.stringify(e)});case 7:return i=t.sent,t.next=10,i.json();case 10:(s=t.sent).success?s.content?(a(Se(e)),a(N("Fr\xe5gesamlingen uppdaterades"))):a(I("Inget svar ifr\xe5n databasen")):a(I("N\xe5got gick fel vid uppdaterande av Quiz."));case 12:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},Ne=function(e,t){return function(){var t=Object(L.a)(z.a.mark(function t(a,n){var r,o,i,s;return z.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if((r=localStorage.getItem("token"))&&"undefined"!==r){t.next=4;break}return console.log("No token specified."),t.abrupt("return");case 4:return o="https://stark-ocean-61611.herokuapp.com/api/question-collection/delete/"+e,t.next=7,fetch(o,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:r}});case 7:return i=t.sent,t.next=10,i.json();case 10:s=t.sent,console.log("Response: ",s),s.success?s.content?(a({type:"COLLECTION_DELETE",payload:s.content}),a(N("Fr\xe5gesamlingen raderades"))):a(I("Fr\xe5gesamlingen existerar inte")):a(I("N\xe5got gick fel vid radering av Quiz."));case 13:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},Ie=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).createRoom=function(e){var t=a.props,n=t.dispatch,r=t.history,o=function(){var e=Math.ceil(Date.now()-1539264714045);return console.log("Code: ",e),new je.a("begame").encode(e)}(a.props.auth.name,e._id),i={roomId:o,quiz:e,currentQuestion:0,createdBy:a.props.auth.name,active:!0,openForAnswer:!1,name:o,created:Date.now()};console.log("Creating room: ",i),n(he({history:r,room:i}))},a.createQuiz=function(){var e=a.props.history;console.log("Creating quiz"),e.push("/admin/collection/")},a.editCollection=function(e){a.props.history.push("/admin/collection/".concat(e))},a.renderCards=function(){var e=a.props,t=e.questionCollections,n=e.classes;return 0===Object.keys(t).length?null:Object.keys(t).map(function(e){var o=t[e];return r.a.createElement(ie.a,{key:o._id,className:n.card},r.a.createElement(ce.a,null,r.a.createElement(ke.a,{className:n.media,image:o.imgUrl,title:o.title}),r.a.createElement(ue.a,null,r.a.createElement(C.a,{gutterBottom:!0,variant:"h5",component:"h2"},o.title),r.a.createElement(C.a,{component:"p"},o.description))),r.a.createElement(Ee.a,null,r.a.createElement(O.a,{size:"small",color:"primary",onClick:function(e){a.createRoom(o)}},"Starta"),r.a.createElement(O.a,{size:"small",color:"primary",onClick:function(t){return a.editCollection(e)}},"Redigera")))})};var n=e.collectionFetched,o=e.dispatch,i=e.history;console.log("Fetched collections: ",n),n||(console.log("Retrieving collection"),o(xe()));var c=JSON.parse(localStorage.getItem("auth"));return c&&c.token&&c.token.length>10?(console.log("Setting auth: ",c),o(D(JSON.parse(localStorage.getItem("auth"))))):i.push("/admin"),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.history,o=this.renderCards();return r.a.createElement(n.Fragment,null,r.a.createElement(M,{history:a,adminPanel:!0,auth:this.props.auth}),r.a.createElement("div",{className:"adminpanel"},r.a.createElement(O.a,{variant:"contained",color:"primary",className:t.button,onClick:this.createQuiz},"Skapa quiz"),r.a.createElement("div",null,r.a.createElement("div",{className:"listDiv"},o))))}}]),t}(n.Component);var qe=Object(y.b)(function(e){return{value:e.value,auth:e.auth,questionCollections:e.questionCollections.data,collectionFetched:e.questionCollections.fetched}})(Object(h.withStyles)(function(e){return{input:{display:"none"},card:{maxWidth:345,marginRight:15,marginBottom:15,minWidth:295},media:{height:140},button:{marginBottom:20}}})(Ie)),ze=(a(295),a(65)),Le=a.n(ze),Fe=a(69),_e=a.n(Fe),Re=a(67),Be=a.n(Re),Pe=a(68),De=a.n(Pe),We=a(66),Ue=a.n(We),Qe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,inputname:"",pw1:"",pw2:""},a.handleClickOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleRegister=function(){console.log("State is: ",a.state),a.state.pw1.length&&a.state.pw2.length&&a.state.inputname.length?a.state.pw1.length<6?a.props.dispatch(I("L\xf6senordet \xe4r f\xf6r kort")):a.state.pw1!==a.state.pw2?a.props.dispatch(I("L\xf6senorden matchar inte")):(a.setState({open:!1}),fetch("https://stark-ocean-61611.herokuapp.com/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a.state.pw1,name:a.state.inputname})}).then(function(e){return e.json()}).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})):a.props.dispatch(I("Tomma f\xe4lt, v\xe4nligen f\xf6rs\xf6k igen"))},a.handleChange=function(e,t){a.setState(Object(v.a)({},t,e.target.value))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Z,null),r.a.createElement(O.a,{onClick:this.handleClickOpen,size:"small",style:{fontSize:12,color:"#999"}},"Skapa konto"),r.a.createElement(Le.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ue.a,{id:"form-dialog-title"},"Skapa konto"),r.a.createElement(Be.a,{style:{width:400,paddingBottom:10}},r.a.createElement(De.a,{style:{fontSize:13,marginBottom:20}},"F\xf6r att kunna skapa ett quiz beh\xf6ver du skapa ett konto."),r.a.createElement(x.a,{onChange:function(t){e.handleChange(t,"inputname")},variant:"outlined",margin:"dense",id:"name",label:"Anv\xe4ndarnamn",type:"email",fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(x.a,{onChange:function(t){e.handleChange(t,"pw1")},variant:"outlined",margin:"dense",id:"pw1",label:"L\xf6senord",type:"password",fullWidth:!0,InputLabelProps:{shrink:!0}}),r.a.createElement(x.a,{onChange:function(t){e.handleChange(t,"pw2")},variant:"outlined",margin:"dense",id:"pw2",label:"Upprepa l\xf6senord",type:"password",fullWidth:!0,InputLabelProps:{shrink:!0}})),r.a.createElement(_e.a,null,r.a.createElement(O.a,{onClick:this.handleClose,color:"secondary"},"Avbryt"),r.a.createElement(O.a,{onClick:this.handleRegister,color:"secondary"},"Registrera"))))}}]),t}(n.Component),He=Object(y.b)(function(e){return{value:e.value,snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}})(Object(h.withStyles)(function(e){return{input:{display:"none"},card:{maxWidth:245,marginRight:15,marginBottom:15,minWidth:245},media:{height:140},root:Object(re.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:250,margin:"auto"}),stepper:Object(re.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:725,margin:"auto"})}},{withTheme:!0})(Qe)),Je=a(302),Ve=a(103),Me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.validation=function(){var e=a.state,t=e.password,n=e.name,r=a.props.dispatch;n&&t?a.login({name:n,password:t}):r(I("Anv\xe4ndarnamn och l\xf6senord kr\xe4vs."))},a.login=function(e){var t=a.props,n=t.dispatch,r=t.history;n(W({history:r,user:e}))},a.pressEnterToLogin=function(e){13===e.wich&&a.validation()},a.state={loading:!1,name:"",password:"",jwt:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.history,a=e.dispatch,n=localStorage.getItem("token");JSON.parse(localStorage.getItem("auth"))&&a(D(JSON.parse(localStorage.getItem("auth")))),n&&n.length>10&&(this.setState({jwt:n}),a(D(JSON.parse(localStorage.getItem("auth")))),t.push("/admin/home"))}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.username,n=this.props,o=n.classes,i=n.history;return r.a.createElement("div",null,r.a.createElement(M,{history:i,username:a,isAdmin:!0}),t&&r.a.createElement(T.a,{thickness:2,color:"secondary"}),r.a.createElement("div",{className:o.main},r.a.createElement("img",{src:Ve,alt:"Begame",className:o.logo,width:"250px"}),r.a.createElement(w.a,{className:o.container},r.a.createElement(C.a,{variant:"h6",className:o.welcome},"V\xe4lkommen!"),r.a.createElement(C.a,{variant:"subtitle1",className:o.login},"Logga in med anv\xe4ndarnamn och l\xf6senord"),r.a.createElement("div",{className:o.margin},r.a.createElement(x.a,{type:"text",onChange:this.handleChange("name"),value:this.state.name,id:"input-with-icon-grid1",label:"Anv\xe4ndarnamn",margin:"dense",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(x.a,{type:"password",onChange:this.handleChange("password"),value:this.state.password,id:"input-with-icon-grid2",label:"L\xf6senord",margin:"dense",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}})),r.a.createElement("div",{className:o.margin},r.a.createElement(O.a,{style:{marginBottom:20,marginTop:10},variant:"contained",color:"secondary",fullWidth:!0,onClick:this.validation,disabled:t,size:"large"},"Logga in")),r.a.createElement("div",{className:o.margin},r.a.createElement(He,null)))),r.a.createElement(C.a,{className:o.copyright},"\xa9 Copyright 2018 | All Rights Reserved | Begame"),r.a.createElement(Z,null))}}]),t}(n.Component),Ge=Object(b.compose)(Object(h.withStyles)(function(){return{main:{display:"flex",flexDirection:"column",minHeight:"calc(100vh - 50px)",alignItems:"center",justifyContent:"center",backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .9), rgba(0, 0, 0, .9)), url(".concat(Je,")"),backgroundColor:"#fafafa",backgroundSize:"cover"},container:{padding:40,marginTop:-70,paddingTop:30},margin:{width:350,textAlign:"center"},welcome:{textAlign:"center"},login:{textAlign:"center",marginBottom:20},copyright:{textAlign:"center",fontSize:11,marginTop:-70,color:"#fff"},logo:{marginTop:-100,marginBottom:30,zIndex:1},inputFocused:{width:"40%",borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)",backgroundColor:"#00FF00"}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}}))(Me),Ke=a(87),Xe=a.n(Ke),Ye=a(71),$e=a.n(Ye),Ze=a(72),et=a.n(Ze),tt=a(126),at=a.n(tt),nt=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).renderActiveUsers=function(){var e=a.props,t=e.classes,n=e.users;return n?n.map(function(e){return r.a.createElement($e.a,{className:t.listitem,key:e._id},r.a.createElement(et.a,{disableTypography:!0,primary:r.a.createElement(C.a,{type:"body2",className:t.userText},e.name),secondary:r.a.createElement(C.a,{type:"body2",className:t.pointsText},e.points)}))}):r.a.createElement("div",null,"User is missing")},a.getNewUserData=function(){var e=a.props,t=e.dispatch,n=e.roomId;n&&t(B({roomId:n}))};var n=e.fetched,o=e.dispatch,i=e.roomId;return!n&&i&&o(B({roomId:i})),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.users,n=e.room,o=n&&n.createdBy,i=this.renderActiveUsers();return r.a.createElement("div",{className:t.root},r.a.createElement(Xe.a,null,r.a.createElement($e.a,{className:t.listitem},r.a.createElement(at.a,{className:t.rightIcon}),r.a.createElement(et.a,{disableTypography:!0,primary:r.a.createElement(C.a,{type:"body2",className:t.onlineText},a.length||0)})),r.a.createElement($e.a,{className:t.listitem},r.a.createElement(et.a,{disableTypography:!0,primary:r.a.createElement(C.a,{type:"body2",className:t.userText},o),secondary:r.a.createElement(C.a,{type:"body2",className:t.pointsText},"GAME MASTER")})),i),r.a.createElement(O.a,{color:"primary",size:"small",variant:"contained",style:{color:"#FFF",position:"absolute",bottom:24,left:24},onClick:this.getNewUserData},"UPPDATERA ANV\xc4NDARE"))}}]),t}(n.Component),rt=Object(y.b)(function(e){return{users:e.users.data,fetched:e.users.fetched,room:e.activeRoom.data}})(Object(h.withStyles)(function(e){return{root:{width:"100%",maxWidth:250,height:"95vh",backgroundColor:"#a7d129",float:"left"},userText:{color:"#FAFAFA",fontSize:"1rem",fontWeight:"400"},pointsText:{color:"#FAFAFA",fontWeight:"400"},onlineText:{color:"#FAFAFA",fontWeight:"bolder",fontSize:15},rightIcon:{color:"#FAFAFA"},listitem:{paddingTop:0}}})(nt)),ot=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={completed:0,time:10,currentTime:0,inProgress:!1,lockStart:!1,showEndTime:!1,reseted:!1,open:!0},a.progress=function(){var e=a.state,t=e.completed,n=e.time,r=e.currentTime;r+=1,(t+=100/n)>100?(console.log("finito"),a.setState({completed:0,inProgress:!1,currentTime:0,lockStart:!1,showEndTime:!0,open:!0,reseted:!1}),clearInterval(a.timer),a.props.questionOpenForAnswer(!1)):a.setState({completed:t,currentTime:r,inProgress:!0})},a.handleChange=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.start=function(){var e=a.state,t=e.lockStart,n=e.inProgress,r=e.reseted;t||(n||r||(a.props.questionOpenForAnswer(!0),a.props.nextQuest()),a.setState({lockStart:!0,showEndTime:!1},function(){a.timer=setInterval(a.progress,1e3)}))},a.stop=function(){a.setState({lockStart:!1}),clearInterval(a.timer)},a.clearTimer=function(){clearInterval(a.timer),a.setState({completed:0,inProgress:!1,currentTime:0,lockStart:!1,showEndTime:!1,reseted:!0})},a.handleClose=function(){a.setState({open:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.inProgress,n=t.lockStart,o=t.showEndTime,i=t.open;return r.a.createElement("div",null,r.a.createElement("div",{className:e.root},r.a.createElement(T.a,{variant:"determinate",value:this.state.completed})),r.a.createElement("div",{className:e.wrapperButtons},!n&&r.a.createElement(O.a,{variant:"contained",color:"primary",className:e.button,onClick:this.start},a?"Forts\xe4tt":"Start"),n&&r.a.createElement(O.a,{variant:"contained",color:"primary",className:e.button,onClick:this.stop},"Stopp"),r.a.createElement(O.a,{color:"primary",variant:"outlined",className:e.button,onClick:this.clearTimer},"\xc5terst\xe4ll"),a&&r.a.createElement(x.a,{id:"outlined-number",label:"Tid i sekunder",value:this.state.time-this.state.currentTime,type:"number",className:e.textField,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),!a&&r.a.createElement(x.a,{id:"outlined-number",label:"Tid i sekunder",value:this.state.time,onChange:this.handleChange("time"),type:"number",className:e.textField,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"})),i&&o&&r.a.createElement(Le.a,{style:{width:600,marginLeft:750,marginTop:-100},open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Ue.a,{id:"alert-dialog-title"},"R\xc4TT SVAR \xc4R B"),r.a.createElement(Be.a,null,r.a.createElement(De.a,{id:"alert-dialog-description"},"Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica")),r.a.createElement(_e.a,null,r.a.createElement(O.a,{onClick:this.handleClose,color:"primary"},"ST\xc4NG"))))}}]),t}(n.Component),it=Object(h.withStyles)(function(e){return{root:{flexGrow:1,marginBottom:20},textField:{marginTop:3,maxHeight:50,marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:100},button:{marginTop:2,maxHeight:50,width:100,marginLeft:e.spacing.unit,marginRight:e.spacing.unit},wrapperButtons:{marginTop:10,display:"flex",justifyContent:"auto",alignItem:"center",flexDirection:"row"},wrapperChip:{display:"flex",alignItems:"center",marginLeft:"100"}}})(ot),st=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).selectedAnswer=function(e,t){console.log("vald svar",e),console.log("korrekt answer",t);var a=e===t;console.log("V? ",a),a?console.log("R\xe4tt svar!"):console.log("Fel svar!")},a.createAnswerButtons=function(e,t){var o=a.props.classes,i=["a","b","c","d"];return console.log("answers:",e),Object.values(e).map(function(e,s){return r.a.createElement(n.Fragment,{key:s},r.a.createElement(ie.a,{className:o.card,onClick:function(){return a.selectedAnswer(i[s],t)},raised:a.state.selectedA},r.a.createElement(ce.a,{className:o.cardAction},r.a.createElement(ue.a,null,r.a.createElement(me.a,{className:o.orangeAvatar},i[s]),r.a.createElement(C.a,{component:"p"},e)))))})},a.renderQuestion=function(){var e=a.props,t=e.room,o=e.classes,i=((t||!1).quiz||!1).questions,s=t&&t.quiz&&t.quiz.title,c=t&&t.quiz&&t.quiz.description;if(!i)return r.a.createElement(w.a,{className:o.root,elevation:1},r.a.createElement(C.a,{variant:"h5",component:"h3"},s),r.a.createElement(C.a,{component:"p"},c));var l=t&&t.currentQuestion;if(0===l)return r.a.createElement(w.a,{className:o.root,elevation:1},r.a.createElement(C.a,{variant:"h5",component:"h3"},s),r.a.createElement(C.a,{component:"p"},c));if(-1===l)return a.state.showTimer&&a.setState({showTimer:!1}),r.a.createElement("div",null,"SLUT");a.state.showTimer||a.setState({showTimer:!0});var u=Object.values(i).filter(function(e){return e.order===l})[0],p=a.createAnswerButtons(u.answers,u.correctAnswer);return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{style:{fontSize:"3.5em",color:"#a7d129",fontWeight:"bold",marginBottom:100}},u.question),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:50,flexWrap:"wrap"}},p))},a.nextQuestion=function(){var e=a.props.room._id,t=a.props.room,n=t.currentQuestion,r=t.quiz;n+=1,Object.keys(r.questions).length<n&&(n=-1);var o={roomIdInDb:e,update:{currentQuestion:n}};a.props.dispatch(fe(o))},a.questionOpenForAnswer=function(e){console.log("questionOpenForAnswer is going: ",e);var t=a.props.dispatch,n=a.props.room._id;t(fe({update:{openForAnswer:e},roomIdInDb:n}))},a.state={id:e.match.params.id,showTimer:!0};var o=e.match&&e.match.params&&e.match.params.id||!1;return o&&e.dispatch(ge(o)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){(0,this.props.dispatch)(N("V\xe4lkommen till rum ".concat(this.state.id)))}},{key:"render",value:function(){var e=this.props.history,t=this.state.showTimer,a=this.renderQuestion();return r.a.createElement(n.Fragment,null,r.a.createElement(M,{roomId:this.state.id,history:e}),r.a.createElement(rt,{roomId:this.state.id}),r.a.createElement("div",{style:{width:800,height:300,margin:"100px auto",textAlign:"center"}},a,t&&r.a.createElement(it,{nextQuest:this.nextQuestion,questionOpenForAnswer:this.questionOpenForAnswer})),r.a.createElement(Z,null))}}]),t}(n.Component),ct=Object(b.compose)(Object(h.withStyles)(function(e){return{root:Object(re.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:450,margin:"50px auto"}),card:{maxWidth:380,marginBottom:30},cardAction:{width:350,maxWidth:380},orangeAvatar:{color:"#fff",backgroundColor:"#a7d129",margin:"0px auto",marginBottom:10}}}),Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message,room:e.activeRoom.data,fetched:e.activeRoom.fetched}}))(st),lt=a(127),ut=a.n(lt),pt=a(128),mt=a.n(pt),dt=a(129),ht=a.n(dt),gt=["a","b","c","d"],ft=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e,t,n){var r=e.target.value;if("answers"===t){var o=a.state.answers;o[n]=r,a.setState({answers:o})}else"question"===t&&a.setState({question:r})},a.renderAnswer=function(){var e=a.state.answers,t=a.props.classes;return Object.keys(e).map(function(e){return r.a.createElement("div",{key:e,className:t.textFieldDiv},r.a.createElement(x.a,{id:"outlined-name",label:e,className:t.textFieldWithButton,value:a.state.answers[e],onChange:function(t){return a.handleChange(t,"answers",e)},margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}}),r.a.createElement(O.a,{variant:"contained",size:"medium",color:a.state.correctAnswer===e?"primary":"secondary",className:t.textFieldButton,onClick:function(){return a.setCorrectAnswer(e)}},"R\xe4tt svar"))})},a.setCorrectAnswer=function(e){a.setState({correctAnswer:e}),console.log("Typeof data: ",typeof e)},a.saveQuestion=function(){var e=a.props.dispatch,t=!0;for(var n in a.state.question.length<4&&"string"!==typeof a.state.question&&(t=!1),a.state.answers)0===a.state.answers[n].length&&(t=!1);a.state.correctAnswer||(t=!1),t?(e(N("Du la till en fr\xe5ga")),a.props.addQuestion(Object(re.a)({},a.state,{answers:Object(re.a)({},a.state.answers)})),a.setState({question:"",answers:{a:"",b:""},correctAnswer:null})):e(I("Fr\xe5gan uppfyller inte kraven."))},a.changeAnswersOption=function(e){var t=Object(re.a)({},a.state).answers,n=Object.keys(t).length;e&&n<Object.keys(gt).length?(t[gt[n]]="",a.setState({answers:t})):!e&&n>2&&(delete t[gt[n-1]],a.setState({answers:t}))},a.state={question:"",answers:{a:"",b:""},correctAnswer:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.renderAnswer();return r.a.createElement(w.a,{style:{width:600,padding:20,margin:"0px auto"}},r.a.createElement(C.a,{variant:"h5",gutterBottom:!0},"L\xe4gg till fr\xe5ga"),r.a.createElement(x.a,{id:"outlined-name",label:"Fr\xe5ga",value:this.state.question,onChange:function(t){return e.handleChange(t,"question")},margin:"normal",variant:"outlined",multiline:!0,fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}}),a,r.a.createElement("div",null,r.a.createElement(O.a,{variant:"outlined",color:"secondary",size:"small",className:t.button,onClick:function(){return e.changeAnswersOption(!0)}},"L\xe4gg till svarsalternativ"),r.a.createElement(O.a,{variant:"outlined",color:"secondary",size:"small",className:t.button,onClick:function(){return e.changeAnswersOption(!1)}},"Ta bort svarsalternativ"),r.a.createElement(O.a,{variant:"outlined",color:"primary",size:"small",className:t.button,onClick:this.saveQuestion},"Spara fr\xe5gan")))}}]),t}(n.Component),vt=Object(y.b)(function(e){return{snackbarOpen:e.errorHandling.snackbarOpen,error:e.errorHandling.error,message:e.errorHandling.message}})(Object(h.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:"95%"},textFieldWithButton:{width:"80%"},textFieldDiv:{width:"100%"},textFieldButton:{margin:"25px 5px"},button:{marginRight:10}}})(ft)),bt=4,yt=4,Et=4,Ot=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChangeQuestions=function(e,t,n){if(void 0!==e.target.value){var r=a.state.questions;"correctAnswer"===n?r[t][n]=e.target.value:r[t].answers[n]=e.target.value,a.setState({questions:r})}},a.handleChange=function(e,t){void 0!==e.target.value&&a.setState(Object(v.a)({},t,e.target.value))},a.addQuestion=function(e){var t=a.props.dispatch;if(a.state.new_quiz)a.setState({questions:Object(re.a)({},a.state.questions,Object(v.a)({},e.question,e))});else{var n=a.props.match&&a.props.match.params&&a.props.match.params.id,r=a.props.questionCollections[n];r.questions[e.question]=e,t(Te(r))}},a.saveQuiz=function(){var e=a.props.dispatch,t=Object(re.a)({},a.state,{title:a.state.title,description:a.state.description,imgUrl:a.state.imgUrl,questions:a.state.questions,category:"Temporary"}),n=1;for(var r in t.questions)t.questions[r].order=n,n++;!function(e){var t=e.title,a=e.description,n=e.imgUrl;return!!(t&&a&&n)&&!(t.length<bt||a.length<yt||n.length<Et)}(t)?(e(I("Fr\xe5gesamlingen uppfyller inte alla krav!")),console.log("Failed to pass checks.")):(console.log("Passed checks, posting quiz to database."),a.state.new_quiz?(console.log("Creating new quiz!"),e(Ae(t))):(console.log("Updating old quiz!"),e(Te(t))))},a.removeQuiz=function(){console.log("Removing quiz with ID: ",a.state._id),(0,a.props.dispatch)(Ne(a.state._id))},a.renderTableView=function(){var e=a.props.questionCollections,t=a.props.match&&a.props.match.params&&a.props.match.params.id,n=!1;if(Object.keys(a.state.questions).length)n=!0;else if(0===Object.keys(e).length||!t)return null;var o=(n?a.state:e[t]).questions;return Object.keys(o).map(function(e,t){var n=o[e];return r.a.createElement(ut.a,{key:t,style:{width:620,margin:"0px auto"}},r.a.createElement(mt.a,null,r.a.createElement(C.a,null,n.question)),r.a.createElement(ht.a,null,r.a.createElement("div",null,Object.keys(o[e].answers).map(function(t){return r.a.createElement(x.a,{key:t,id:"standard-full-width",label:t,value:o[e].answers[t],style:{margin:8},placeholder:"Placeholder",fullWidth:!0,margin:"normal",onChange:function(n){return a.handleChangeQuestions(n,e,t)},InputLabelProps:{shrink:!0}})}),r.a.createElement(x.a,{id:"standard-full-width",label:"correctAnswer",value:o[e].correctAnswer,style:{margin:8},placeholder:"R\xe4tt svar",fullWidth:!0,margin:"normal",onChange:function(t){return a.handleChangeQuestions(t,e,"correctAnswer")},InputLabelProps:{shrink:!0}}))))})},a.state={_id:null,isLoaded:!1,questions:{},imgUrl:"",description:"",new_quiz:!0},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.title,o=t.imgUrl,i=t.description,s=this.props,c=s.classes,l=s.history,u=this.renderTableView();return r.a.createElement(n.Fragment,null,r.a.createElement(M,{history:l,createQuiz:!0}),r.a.createElement("div",{style:{float:"right",marginTop:10}},r.a.createElement(O.a,{variant:"contained",color:"primary",className:c.button,onClick:this.saveQuiz},"Spara fr\xe5gesamling"),!this.state.new_quiz&&r.a.createElement(O.a,{variant:"contained",color:"secondary",className:c.button,onClick:this.removeQuiz},"Radera fr\xe5gesamling")),r.a.createElement("div",{className:c.root},r.a.createElement(w.a,{className:c.paper},r.a.createElement(C.a,{variant:"h5",gutterBottom:!0},"Skapa quiz"),r.a.createElement(x.a,{id:"outlined-name",label:"Title",className:c.textField,value:a,onChange:function(t){return e.handleChange(t,"title")},margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}}),r.a.createElement("br",null),r.a.createElement(x.a,{id:"outlined-name",label:"Beskrivning",value:i,className:c.textField,onChange:function(t){return e.handleChange(t,"description")},margin:"normal",variant:"outlined",multiline:!0,fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}}),r.a.createElement("br",null),r.a.createElement(x.a,{id:"outlined-name",label:"Bild url",value:o,className:c.textField,onChange:function(t){return e.handleChange(t,"imgUrl")},margin:"normal",variant:"outlined",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{style:{fontSize:13,height:45}}}),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("img",{src:o,alt:"Bild Saknas",height:"300",width:"auto",style:{margin:50}})))),r.a.createElement(vt,{dispatch:this.props.dispatch,addQuestion:this.addQuestion}),r.a.createElement(Z,null),r.a.createElement("div",{style:{width:600,margin:"0px auto"}},u))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.questionCollections,n=t.isLoaded,r=e.match&&e.match.params&&e.match.params.id;if(r&&Object.keys(a).length>0&&!n){var o=a[r];return{questions:o.questions,imgUrl:o.imgUrl,title:o.title,description:o.description,_id:o._id,isLoaded:!0,new_quiz:!1}}return null}}]),t}(n.Component);var kt=Object(y.b)(function(e){return{fetched:e.users.fetched,users:e.users.data,questionCollections:e.questionCollections.data}})(Object(h.withStyles)(function(e){return{root:{},expand:{width:"calc(100% - 68px)",marginLeft:10},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},contentWrapper:{display:"flex",flexDirection:"column"},button:{margin:10},removeButtonDiv:{border:"1px solid #e67575",borderRadius:5,display:"inline-block"},paper:{width:600,padding:20,marginBottom:20,marginTop:20,margin:"0px auto"}}})(Ot)),wt=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(l.a)(this,Object(u.a)(t).call(this,e));var n=e.dispatch,r=e.history;return n({type:"USER_LOGOUT"}),r.push("/"),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return null}}]),t}(n.Component),jt=Object(y.b)(function(e){return{value:e.value}})(wt),Ct=Object(h.createMuiTheme)({palette:f()({primary:{light:"#933f99",main:"#573697",dark:"#2c2828",contrastText:"#fff"},secondary:{light:"#933f99",main:"#573697",dark:"#2c2828",contrastText:"#fff"}}),overrides:{MuiDialog:{paperScrollPaper:{overflowY:"visible"}}},typography:{useNextVariants:!0}}),St=function(){return r.a.createElement(h.MuiThemeProvider,{theme:Ct},r.a.createElement(m.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:ne}),r.a.createElement(d.a,{exact:!0,path:"/room/:id",component:be}),r.a.createElement(d.a,{exact:!0,path:"/admin/",component:Ge}),r.a.createElement(d.a,{exact:!0,path:"/admin/settings",component:qe}),r.a.createElement(d.a,{exact:!0,path:"/admin/collection",component:kt}),r.a.createElement(d.a,{exact:!0,path:"/admin/collection/:id",component:kt}),r.a.createElement(d.a,{exact:!0,path:"/admin/users",component:rt}),r.a.createElement(d.a,{exact:!0,path:"/admin/home/",component:qe}),r.a.createElement(d.a,{exact:!0,path:"/project/:id",component:ct}),r.a.createElement(d.a,{exact:!0,path:"/logout",component:jt}),r.a.createElement(d.a,{exact:!0,path:"/timer",component:it})))},xt=(a(320),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(St,null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var At=a(131),Tt=a(132),Nt="ADD_TO_VALUE_EXAMPLE",It={title:null};var qt={message:"Initial message",error:!1,snackbarOpen:!1};var zt={fetched:!1,data:[]},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECIVED_ALL_USER":return Object(re.a)({},e,{data:t.payload,fetched:!0});default:return e}},Ft={fetched:!1,name:"",token:null};var _t=a(73),Rt={fetched:!1,data:[]};var Bt="ROOM_RECIVED",Pt={fetched:!1,timer:{started:!1,stoped:!1,ended:!1}};var Dt="UPDATE_USER",Wt="UPDATE_POINTS",Ut={fetched:!1,data:{}};var Qt=Object(b.combineReducers)({editQuiz:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return Object(re.a)({},e,{title:t.payload});default:return e}},errorHandling:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_SNACKBAR_MESSAGE":return Object(re.a)({},e,{error:!1,snackbarOpen:!0,message:t.payload});case"SHOW_SNACKBAR_ERROR":return Object(re.a)({},e,{error:!0,snackbarOpen:!0,message:t.payload});case"CLOSE_FEEDBACK":return Object(re.a)({},e,{snackbarOpen:!1,dialogOpen:!1});default:return e}},users:Lt,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_RECEIVED":return t?(t.payload.token&&localStorage.setItem("token",t.payload.token),localStorage.setItem("auth",JSON.stringify(t.payload)),Object(re.a)({},e,{fetched:!0,name:t.payload.name,token:t.payload.token})):e;case"TOKEN_RECIEVED":return Object(re.a)({},e,{fetched:!0,token:t.payload});case"USER_LOGOUT":return console.log("Logging out user."),localStorage.removeItem("token"),localStorage.removeItem("auth"),Object(re.a)({},e,{fetched:!0,token:null,user:null});default:return e}},questionCollections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COLLECTION_RECIEVED":return Object(re.a)({},e,{fetched:!0,data:t.payload});case"COLLECTION_ADD":return Object(re.a)({},e,{data:Object(_t.a)(e.data).concat([t.payload])});case"COLLECTION_UPDATE":var a=e.data.findIndex(function(e){return e._id===t.payload._id});return Object(re.a)({},e,{data:Object(_t.a)(e.data.slice(0,a)).concat([t.payload],Object(_t.a)(e.data.slice(a+1)))});case"COLLECTION_DELETE":return Object(re.a)({},e,{data:e.data.filter(function(e){return e._id!==t.payload._id})});default:return e}},activeRoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bt:return Object(re.a)({},e,{data:t.payload,fetched:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return localStorage.setItem("student",JSON.stringify(t.payload)),Object(re.a)({},e,{data:t.payload,fetched:!0});case Wt:var a=JSON.parse(localStorage.getItem("student"));a.points=t.payload.points,localStorage.setItem("student",JSON.stringify(a));var n=Object(re.a)({},e);return n.data.points=t.payload.points,n;default:return e}}}),Ht=Object(b.createStore)(Qt,{},Object(Tt.composeWithDevTools)(Object(b.applyMiddleware)(At.a)),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),Jt=a(324);i.a.render(r.a.createElement(y.a,{store:Ht},r.a.createElement(Jt.a,{basename:"/begame"},r.a.createElement(xt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[134,2,1]]]);
//# sourceMappingURL=main.cf209bda.chunk.js.map